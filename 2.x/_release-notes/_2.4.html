<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from target/generated-sources/site/asciidoc/_release-notes/_2.4.adoc at 2023-12-22
 | Rendered using Apache Maven Fluido Skin 1.11.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Log4j &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.11.2.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.11.2.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../.." id="bannerLeft"><img src="../images/ls-logo.jpg"  alt="" style="" /></a></div>
          <div class="pull-right"><a href=".././" id="bannerRight"><img src="../images/logo.png"  alt="" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-12-22<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.22.1</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/apache/logging-log4j2" class="externalLink" title="GitHub">GitHub</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../../../" title="Logging Services">Logging Services</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
        <li class="pull-right"><a href="https://cwiki.apache.org/confluence/display/LOGGING/Log4j" class="externalLink" title="Logging Wiki">Logging Wiki</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/home.png" alt="Apache Log4j™ 2" style="border: 0;" /> Apache Log4j™ 2</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="../support.html" title="Support"><span class="none"></span>Support</a></li>
    <li><a href="../maven-artifacts.html" title="Maven, Ivy, Gradle Artifacts"><span class="icon-chevron-right"></span>Maven, Ivy, Gradle Artifacts</a></li>
    <li><a href="../release-notes.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="../performance.html" title="Performance"><span class="icon-chevron-right"></span>Performance</a></li>
    <li><a href="../articles.html" title="Articles and Tutorials"><span class="none"></span>Articles and Tutorials</a></li>
    <li><a href="../security.html" title="Security"><span class="icon-chevron-down"></span>Security</a>
     <ul class="nav nav-list">
      <li><a href="../security.html#support" title="Getting support"><span class="none"></span>Getting support</a></li>
      <li><a href="../security.html#reporting" title="Reporting vulnerabilities"><span class="none"></span>Reporting vulnerabilities</a></li>
      <li><a href="../security.html#policy" title="Vulnerability handling policy"><span class="none"></span>Vulnerability handling policy</a></li>
      <li><a href="../security.html#vdr" title="Vulnerability Disclosure Report (VDR)"><span class="none"></span>Vulnerability Disclosure Report (VDR)</a></li>
      <li><a href="../security.html#vulnerabilities" title="Known Vulnerabilities"><span class="none"></span>Known Vulnerabilities</a></li>
     </ul></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/book.png" alt="Manual" style="border: 0;" /> Manual</li>
    <li><a href="../manual/index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../manual/architecture.html" title="Architecture"><span class="none"></span>Architecture</a></li>
    <li><a href="../manual/api-separation.html" title="API Separation"><span class="none"></span>API Separation</a></li>
    <li><a href="../manual/migration.html" title="Log4j 1.x Migration"><span class="icon-chevron-right"></span>Log4j 1.x Migration</a></li>
    <li><a href="../manual/api.html" title="Java API"><span class="icon-chevron-right"></span>Java API</a></li>
    <li><a href="../../kotlin" title="Kotlin API"><span class="none"></span>Kotlin API</a></li>
    <li><a href="../../scala" title="Scala API"><span class="none"></span>Scala API</a></li>
    <li><a href="../manual/configuration.html" title="Configuration"><span class="icon-chevron-right"></span>Configuration</a></li>
    <li><a href="../manual/usage.html" title="Usage"><span class="icon-chevron-right"></span>Usage</a></li>
    <li><a href="../manual/webapp.html" title="Web Applications and JSPs"><span class="icon-chevron-right"></span>Web Applications and JSPs</a></li>
    <li><a href="../manual/lookups.html" title="Lookups"><span class="icon-chevron-right"></span>Lookups</a></li>
    <li><a href="../manual/appenders.html" title="Appenders"><span class="icon-chevron-right"></span>Appenders</a></li>
    <li><a href="../manual/layouts.html" title="Layouts"><span class="icon-chevron-right"></span>Layouts</a></li>
    <li><a href="../manual/filters.html" title="Filters"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../manual/async.html" title="Async Loggers"><span class="icon-chevron-right"></span>Async Loggers</a></li>
    <li><a href="../manual/garbagefree.html" title="Garbage-free Logging"><span class="icon-chevron-right"></span>Garbage-free Logging</a></li>
    <li><a href="../manual/jmx.html" title="JMX"><span class="none"></span>JMX</a></li>
    <li><a href="../manual/logsep.html" title="Logging Separation"><span class="none"></span>Logging Separation</a></li>
    <li><a href="../manual/extending.html" title="Extending Log4j"><span class="icon-chevron-right"></span>Extending Log4j</a></li>
    <li><a href="../manual/plugins.html" title="Plugins"><span class="icon-chevron-right"></span>Plugins</a></li>
    <li><a href="../manual/customconfig.html" title="Programmatic Log4j Configuration"><span class="icon-chevron-right"></span>Programmatic Log4j Configuration</a></li>
    <li><a href="../manual/customloglevels.html" title="Custom Log Levels"><span class="icon-chevron-right"></span>Custom Log Levels</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/pencil.png" alt="For Contributors" style="border: 0;" /> For Contributors</li>
    <li><a href="../guidelines.html" title="Guidelines"><span class="none"></span>Guidelines</a></li>
    <li><a href="../javastyle.html" title="Style Guide"><span class="none"></span>Style Guide</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/cog.png" alt="Components" style="border: 0;" /> Components</li>
    <li><a href="../log4j-api.html" title="API"><span class="none"></span>API</a></li>
    <li><a href="../log4j-jcl.html" title="Commons Logging Bridge"><span class="none"></span>Commons Logging Bridge</a></li>
    <li><a href="../log4j-1.2-api.html" title="Log4j 1.2 API"><span class="none"></span>Log4j 1.2 API</a></li>
    <li><a href="../log4j-slf4j-impl.html" title="SLF4J Binding"><span class="none"></span>SLF4J Binding</a></li>
    <li><a href="../log4j-jul.html" title="JUL Adapter"><span class="none"></span>JUL Adapter</a></li>
    <li><a href="../log4j-jpl.html" title="JDK Platform Logger"><span class="none"></span>JDK Platform Logger</a></li>
    <li><a href="../log4j-to-slf4j.html" title="Log4j 2 to SLF4J Adapter"><span class="none"></span>Log4j 2 to SLF4J Adapter</a></li>
    <li><a href="../log4j-flume-ng.html" title="Apache Flume Appender"><span class="none"></span>Apache Flume Appender</a></li>
    <li><a href="../log4j-taglib.html" title="Log4j Tag Library"><span class="none"></span>Log4j Tag Library</a></li>
    <li><a href="../log4j-jmx-gui.html" title="Log4j JMX GUI"><span class="none"></span>Log4j JMX GUI</a></li>
    <li><a href="../log4j-web.html" title="Log4j Web Application Support"><span class="none"></span>Log4j Web Application Support</a></li>
    <li><a href="../log4j-jakarta-web.html" title="Log4j Jakarta Web Application Support"><span class="none"></span>Log4j Jakarta Web Application Support</a></li>
    <li><a href="../log4j-appserver.html" title="Log4j Application Server Integration"><span class="none"></span>Log4j Application Server Integration</a></li>
    <li><a href="../log4j-couchdb.html" title="Log4j CouchDB appender"><span class="none"></span>Log4j CouchDB appender</a></li>
    <li><a href="../log4j-mongodb3.html" title="Log4j MongoDB3 appender"><span class="none"></span>Log4j MongoDB3 appender</a></li>
    <li><a href="../log4j-mongodb4.html" title="Log4j MongoDB4 appender"><span class="none"></span>Log4j MongoDB4 appender</a></li>
    <li><a href="../log4j-cassandra.html" title="Log4j Cassandra appender"><span class="none"></span>Log4j Cassandra appender</a></li>
    <li><a href="../log4j-iostreams.html" title="Log4j IO Streams"><span class="none"></span>Log4j IO Streams</a></li>
    <li><a href="../log4j-docker.html" title="Log4j Docker Support"><span class="none"></span>Log4j Docker Support</a></li>
    <li><a href="../log4j-kubernetes.html" title="Log4j Kubernetes Support"><span class="none"></span>Log4j Kubernetes Support</a></li>
    <li><a href="../log4j-spring-boot.html" title="Log4j Spring Boot"><span class="none"></span>Log4j Spring Boot</a></li>
    <li><a href="../log4j-spring-cloud-config-client.html" title="Log4j Spring Cloud Config Client"><span class="none"></span>Log4j Spring Cloud Config Client</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/tag.png" alt="Related Projects" style="border: 0;" /> Related Projects</li>
    <li><a href="../../../chainsaw/2.x/index.html" title="Chainsaw"><span class="none"></span>Chainsaw</a></li>
    <li><a href="../../../log4cxx/latest_stable/index.html" title="Log4Cxx"><span class="none"></span>Log4Cxx</a></li>
    <li><a href="../../../log4j-audit/latest/index.html" title="Log4j Audit"><span class="none"></span>Log4j Audit</a></li>
    <li><a href="../../kotlin" title="Log4j Kotlin"><span class="none"></span>Log4j Kotlin</a></li>
    <li><a href="../../scala" title="Log4j Scala"><span class="none"></span>Log4j Scala</a></li>
    <li><a href="../../transform" title="Log4j Transform"><span class="none"></span>Log4j Transform</a></li>
    <li><a href="../../../log4net/index.html" title="Log4Net"><span class="none"></span>Log4Net</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/link.png" alt="Legacy Sites" style="border: 0;" /> Legacy Sites</li>
    <li><a href="../../log4j-2.12.4/" title="Log4j 2.12.4 - Java 7"><span class="none"></span>Log4j 2.12.4 - Java 7</a></li>
    <li><a href="../../log4j-2.3.2/" title="Log4j 2.3.2 - Java 6"><span class="none"></span>Log4j 2.3.2 - Java 6</a></li>
    <li><a href="../../1.2/" title="Log4j 1.2 - End of Life"><span class="none"></span>Log4j 1.2 - End of Life</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/info.png" alt="Project Information" style="border: 0;" /> Project Information</li>
    <li><a href="../team.html" title="Project Team"><span class="none"></span>Project Team</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="Project License"><span class="none"></span>Project License</a></li>
    <li><a href="https://github.com/apache/logging-log4j2" class="externalLink" title="Source Repository"><span class="none"></span>Source Repository</a></li>
    <li><a href="../runtime-dependencies.html" title="Runtime Dependencies"><span class="none"></span>Runtime Dependencies</a></li>
    <li><a href="../javadoc.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../thanks.html" title="Thanks"><span class="none"></span>Thanks</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<div class="sect1">
<h2 id="release-notes-2-4">2.4</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the eighth GA release.
It contains several bugfixes and new features.
As of this release Log4j now requires a minimum of Java 7.</p>
</div>
<div class="paragraph">
<p>Apache Log4j 2.4 requires a minimum of Java 7 to build and run.
Log4j 2.4 and greater requires Java 7, version 2.3 required Java 6.</p>
</div>
<div class="paragraph">
<p>Basic compatibility with Log4j 1.x is provided through the <code>log4j-1.2-api</code> component, however it does
not implement some of the very implementation specific classes and methods.
The package names and Maven <code>groupId</code> have been changed to <code>org.apache.logging.log4j</code> to avoid any conflicts with Log4j 1.x.</p>
</div>
<div class="paragraph">
<p>For complete information on Apache Log4j 2, including instructions on how to submit bug reports, patches, or suggestions for improvement, see <a href="http://logging.apache.org/log4j/2.x/">the Apache Log4j 2 website</a>.</p>
</div>
<div class="sect2">
<h3 id="release-notes-2-4-added">Added</h3>
<div class="ulist">
<ul>
<li>
<p>Add a way to route messages based on the %marker in Layout for RoutingAppender. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1015">LOG4J2-1015</a>)</p>
</li>
<li>
<p>New RewritePolicy for changing level of a log event. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1023">LOG4J2-1023</a>)</p>
</li>
<li>
<p>Add a Log4jLookup class to help write log files relative to log4j2.xml. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1050">LOG4J2-1050</a>)</p>
</li>
<li>
<p>Add API org.apache.logging.log4j.LogManager.getFormatterLogger(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1057">LOG4J2-1057</a>)</p>
</li>
<li>
<p>Expose Log4jContextFactory&#8217;s ShutdownCallbackRegistry. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1066">LOG4J2-1066</a>)</p>
</li>
<li>
<p>Added support for system nanosecond time in pattern layout. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1074">LOG4J2-1074</a>)</p>
</li>
<li>
<p>Added support for compressing to bzip2 format on file rollover. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1075">LOG4J2-1075</a>)</p>
</li>
<li>
<p>Support additional Apache Commons Compress compression formats on rollover: Deflate, Pack200, XY. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1077">LOG4J2-1077</a>)</p>
</li>
<li>
<p>Add Comma Separated Value (CSV) layouts for parameter and event logging. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1088">LOG4J2-1088</a>)</p>
</li>
<li>
<p>Add Core Configurator APIs to change a logger&#8217;s level. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1090">LOG4J2-1090</a>)</p>
</li>
<li>
<p>Add API org.apache.logging.log4j.Level.isInRange(Level, Level). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1105">LOG4J2-1105</a>)</p>
</li>
<li>
<p>Add a LevelRangeFilter class. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1106">LOG4J2-1106</a>)</p>
</li>
<li>
<p>New Appender for Apache Kafka. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1107">LOG4J2-1107</a>)</p>
</li>
<li>
<p>New publisher Appender for ZeroMQ (using JeroMQ). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1113">LOG4J2-1113</a>)</p>
</li>
<li>
<p>Updated Logger wrapper generator tool to add Java 8 lambda support for custom log levels. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1118">LOG4J2-1118</a>)</p>
</li>
<li>
<p>Added support for Java 8 lambda expressions to lazily construct a log message only if the requested log level is enabled. (<a href="https://issues.apache.org/jira/browse/LOG4J2-599">LOG4J2-599</a>)</p>
</li>
<li>
<p>Add support for configuration via Properties. (<a href="https://issues.apache.org/jira/browse/LOG4J2-635">LOG4J2-635</a>)</p>
</li>
<li>
<p>New module for Liquibase integration. (<a href="https://issues.apache.org/jira/browse/LOG4J2-767">LOG4J2-767</a>)</p>
</li>
<li>
<p>Add ConfigurationBuilder for programmatic configuration. (<a href="https://issues.apache.org/jira/browse/LOG4J2-952">LOG4J2-952</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-2-4-changed">Changed</h3>
<div class="ulist">
<ul>
<li>
<p>Pass log event when interpolating logger properties. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1010">LOG4J2-1010</a>)</p>
</li>
<li>
<p>Update Java platform from Java 6 to 7. From this version onwards, log4j 2 requires Java 7. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1017">LOG4J2-1017</a>)</p>
</li>
<li>
<p>Update database tests from H2 1.3.175 to 1.3.176. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1018">LOG4J2-1018</a>)</p>
</li>
<li>
<p>Allow a list of keys to be specified in the MDC pattern converter. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1022">LOG4J2-1022</a>)</p>
</li>
<li>
<p>Log4j2 tries to SystemClassLoader when running on Google AppEngine. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1035">LOG4J2-1035</a>)</p>
</li>
<li>
<p>Update Apache Flume from 1.5.2 to 1.6.0. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1036">LOG4J2-1036</a>)</p>
</li>
<li>
<p>Update MongoDB driver from 2.11.2 to 2.13.2. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1041">LOG4J2-1041</a>)</p>
</li>
<li>
<p>Support batchSize in FlumeAvroManager. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1044">LOG4J2-1044</a>)</p>
</li>
<li>
<p>Avoid creating temporary array object in org.apache.logging.slf4j.Log4jMarker.iterator(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1063">LOG4J2-1063</a>)</p>
</li>
<li>
<p>Define org.apache.logging.log4j.Marker.equals(Object) and org.apache.logging.log4j.Marker.hashCode(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1065">LOG4J2-1065</a>)</p>
</li>
<li>
<p>Update Java Mail from 1.5.2 to 1.5.4. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1070">LOG4J2-1070</a>)</p>
</li>
<li>
<p>Update Jackson from 2.5.3 to 2.5.4. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1079">LOG4J2-1079</a>)</p>
</li>
<li>
<p>Update Jackson from 2.6.0 to 2.6.1. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1092">LOG4J2-1092</a>)</p>
</li>
<li>
<p>Improved performance of ParameterizedMessage::getFormattedMessage by ~2X. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1096">LOG4J2-1096</a>)</p>
</li>
<li>
<p>PatternLayout timestamp formatting performance improvement: predefined date formats (and variants using a period '.' millisecond separator instead of ',') are now formatted ~2-10X faster than other date formats. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1097">LOG4J2-1097</a>)</p>
</li>
<li>
<p>Update Apache Commons Compress from 1.9 to 1.10. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1104">LOG4J2-1104</a>)</p>
</li>
<li>
<p>Add thread name to status logger layout. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1114">LOG4J2-1114</a>)</p>
</li>
<li>
<p>LoggerConfig performance improvements: avoid unnecessary lock acquisition, use more efficient data structure. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1120">LOG4J2-1120</a>)</p>
</li>
<li>
<p>PatternLayout performance improvement by caching and reusing a ThreadLocal StringBuilder. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1125">LOG4J2-1125</a>)</p>
</li>
<li>
<p>Update Jackson from 2.5.4 to 2.6.0. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1879">LOG4J2-1879</a>)</p>
</li>
<li>
<p>MongoDB appender, username and password should be optional. (<a href="https://issues.apache.org/jira/browse/LOG4J2-403">LOG4J2-403</a>)</p>
</li>
<li>
<p>PatternLayout timestamp formatting performance improvement: replaced synchronized SimpleDateFormat with Apache Commons FastDateFormat. This and better caching resulted in a ~3-30X faster timestamp formatting. (<a href="https://issues.apache.org/jira/browse/LOG4J2-812">LOG4J2-812</a>)</p>
</li>
<li>
<p>log4j-web-2.1 should work around a bug in JBOSS EAP 6.2. (<a href="https://issues.apache.org/jira/browse/LOG4J2-890">LOG4J2-890</a>)</p>
</li>
<li>
<p>Fix FindBugs DM_DEFAULT_ENCODING bug in SimpleLogger.logMessage() and simplify code. (<a href="https://issues.apache.org/jira/browse/LOG4J2-959">LOG4J2-959</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-2-4-fixed">Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>ZipCompressAction leaves files open until GC when an IO error takes place. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1019">LOG4J2-1019</a>)</p>
</li>
<li>
<p>GzCompressAction leaves files open until GC when an IO error takes place. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1020">LOG4J2-1020</a>)</p>
</li>
<li>
<p>Custom java.util.logging.Level gives null Log4j Level and causes NPE. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1025">LOG4J2-1025</a>)</p>
</li>
<li>
<p>HighlightConverter does not obey noConsoleNoAnsi. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1026">LOG4J2-1026</a>)</p>
</li>
<li>
<p>SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1033">LOG4J2-1033</a>)</p>
</li>
<li>
<p>Backward compatibility issue in log4j-1.2-api NDC pop() and peek(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1037">LOG4J2-1037</a>)</p>
</li>
<li>
<p>Incorrect documentation for layout default charset. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1038">LOG4J2-1038</a>)</p>
</li>
<li>
<p>Socket and Syslog appenders don&#8217;t take timeout into account at startup. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1042">LOG4J2-1042</a>)</p>
</li>
<li>
<p>Write pending events to Flume when the appender is stopped. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1044">LOG4J2-1044</a>)</p>
</li>
<li>
<p>Externalize log4j2.xml via URL resource. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1045">LOG4J2-1045</a>)</p>
</li>
<li>
<p>Circular Exception cause throws StackOverflowError. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1046">LOG4J2-1046</a>)</p>
</li>
<li>
<p>FileConfigurationMonitor unnecessarily calls System.currentTimeMillis() causing high CPU usage. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1048">LOG4J2-1048</a>)</p>
</li>
<li>
<p>AsyncAppender now resets the thread interrupted flag after catching InterruptedException. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1049">LOG4J2-1049</a>)</p>
</li>
<li>
<p>NoClassDefFoundError when starting app on Google App Engine. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1051">LOG4J2-1051</a>)</p>
</li>
<li>
<p>Log4jMarker#contains(String) does not respect org.slf4j.Marker contract. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1058">LOG4J2-1058</a>)</p>
</li>
<li>
<p>Log4jMarker#contains(Marker) does not respect org.slf4j.Marker contract. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1060">LOG4J2-1060</a>)</p>
</li>
<li>
<p>Log4jMarker#remove(Marker) does not respect org.slf4j.Marker contract. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1061">LOG4J2-1061</a>)</p>
</li>
<li>
<p>Log4jMarker#add(Marker) does not respect org.slf4j.Marker contract. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1062">LOG4J2-1062</a>)</p>
</li>
<li>
<p>org.apache.logging.slf4j.Log4jMarker does not implement org.slf4j.Marker.equals(Object) org.slf4j.Marker.hashCode(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1064">LOG4J2-1064</a>)</p>
</li>
<li>
<p>ThrowableProxy getExtendedStackTraceAsString throws NPE on deserialized nested exceptions. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1067">LOG4J2-1067</a>)</p>
</li>
<li>
<p>Exceptions not logged when using TcpSocketServer + SerializedLayout. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1068">LOG4J2-1068</a>)</p>
</li>
<li>
<p>Improper handling of JSON escape chars when deserializing JSON log events. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1069">LOG4J2-1069</a>)</p>
</li>
<li>
<p>GelfLayout throws exception if some log event fields are null. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1078">LOG4J2-1078</a>)</p>
</li>
<li>
<p>Misleading StatusLogger WARN event in LogManager with java.util.Map. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1084">LOG4J2-1084</a>)</p>
</li>
<li>
<p>NullPointerException when passing null to java.util.logging.Logger.setLevel(). (<a href="https://issues.apache.org/jira/browse/LOG4J2-1108">LOG4J2-1108</a>)</p>
</li>
<li>
<p>org.apache.logging.log4j.jul.CoreLogger.setLevel() checks for security permission too late. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1110">LOG4J2-1110</a>)</p>
</li>
<li>
<p>OutputStreamManager in ConsoleAppender leaking managers. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1117">LOG4J2-1117</a>)</p>
</li>
<li>
<p>Fixed potential race condition on reconfiguration. Introduced ReliabilityStrategy to facilitate switching between different mechanisms for preventing log events from being dropped on reconfiguration. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1121">LOG4J2-1121</a>)</p>
</li>
<li>
<p>Core Configurator.initialize(String, ClassLoader, String) fails to work when config location is a file path. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1123">LOG4J2-1123</a>)</p>
</li>
<li>
<p>ExtendedThrowablePatternConverter does not print suppressed exceptions. (<a href="https://issues.apache.org/jira/browse/LOG4J2-684">LOG4J2-684</a>)</p>
</li>
<li>
<p>Header in layout should not be written on application startup if appending to an existing file. Fixes LOG4J2-1030. (<a href="https://issues.apache.org/jira/browse/LOG4J2-889">LOG4J2-889</a>)</p>
</li>
<li>
<p>Clarify documentation for combining async with sync loggers. (<a href="https://issues.apache.org/jira/browse/LOG4J2-918">LOG4J2-918</a>)</p>
</li>
<li>
<p>Circular suppressed Exception throws StackOverflowError. (<a href="https://issues.apache.org/jira/browse/LOG4J2-934">LOG4J2-934</a>)</p>
</li>
<li>
<p>Use System.nanoTime() to measure time intervals. (<a href="https://issues.apache.org/jira/browse/LOG4J2-982">LOG4J2-982</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-2-4-removed">Removed</h3>
<div class="ulist">
<ul>
<li>
<p>Removed experimental interface LevelLogger which got committed to master by mistake.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<p align="center">Copyright &copy; 1999-2023 <a class="external" href="https://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.<br>
      Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
