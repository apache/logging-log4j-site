<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<!-- Generated by Apache Maven Doxia at 2017-08-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Log4j &#x2013; Log4j 2 Layouts - Apache Log4j 2</title>
		<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css" />
		<link rel="stylesheet" href="../css/site.css" type="text/css" />
		<script type="text/javascript" src="../js/jquery.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/prettify.min.js"></script>
		<script type="text/javascript" src="../js/site.js"></script>
			<meta name="author" content="Ralph Goers" />
			<meta name="author" content="Gary Gregory" />
		<meta name="Date-Revision-yyyymmdd" content="20170826" />
		<meta http-equiv="Content-Language" content="en" />
		
				</head>
	<body class="composite">
		<a href="https://logging.apache.org/">
			<img class="logo-left" src="../images/ls-logo.jpg" alt="Apache logging services logo" />
		</a>
		<img class="logo-right" src="../images/logo.png" alt="Apache log4j logo" />
		<div class="clear"></div>

		<div class="navbar">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="brand" href="https://logging.apache.org/log4j/2.x/">Apache Log4j 2 &trade;</a>
						<ul class="nav">
						<li>
					
				
				<a href="https://wiki.apache.org/logging" class="external" target="_blank" title="Logging Wiki">Logging Wiki</a>
			</li>
					<li>
					
				
				<a href="https://www.apache.org/" class="external" target="_blank" title="Apache">Apache</a>
			</li>
					<li>
									<a href="../../../" title="Logging Services">Logging Services</a>
			</li>
					<li>
					
				
				<a href="https://analysis.apache.org/dashboard/index/org.apache.logging.log4j:log4j" class="external" target="_blank" title="Sonar">Sonar</a>
			</li>
					<li>
					
				
				<a href="https://github.com/apache/logging-log4j2" class="external" target="_blank" title="GitHub">GitHub</a>
			</li>
		</ul>
				</div>
			</div>
		</div>

		<div class="container-fluid">
			<table class="layout-table">
				<tr>
					<td class="sidebar">
						<div class="well sidebar-nav">
										<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-home"></i>Apache Log4jâ„¢ 2</li>
																						<li class="none">
									<a href="../index.html" title="About">About</a>
					</li>
 																<li class="none">
									<a href="../download.html" title="Download">Download</a>
					</li>
 																																																																				<li class="collapsed">
									<a href="../javadoc.html" title="Javadoc">Javadoc</a>
										</li>
 																<li class="none">
									<a href="../maven-artifacts.html" title="Maven, Ivy, Gradle Artifacts">Maven, Ivy, Gradle Artifacts</a>
					</li>
 																<li class="none">
									<a href="../runtime-dependencies.html" title="Runtime Dependencies">Runtime Dependencies</a>
					</li>
 																<li class="none">
									<a href="../changelog.html" title="Changelog">Changelog</a>
					</li>
 																<li class="none">
									<a href="../faq.html" title="FAQ">FAQ</a>
					</li>
 																																																																																																																	<li class="collapsed">
									<a href="../performance.html" title="Performance">Performance</a>
										</li>
 																<li class="none">
									<a href="../articles.html" title="Articles and Tutorials">Articles and Tutorials</a>
					</li>
 																<li class="none">
									<a href="../thanks.html" title="Thanks">Thanks</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-pencil"></i>For Contributors</li>
																						<li class="none">
									<a href="../build.html" title="Building Log4j from Source">Building Log4j from Source</a>
					</li>
 																<li class="none">
									<a href="../guidelines.html" title="Guidelines">Guidelines</a>
					</li>
 																<li class="none">
									<a href="../javastyle.html" title="Style Guide">Style Guide</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-book"></i>Manual</li>
																						<li class="none">
									<a href="../manual/index.html" title="Introduction">Introduction</a>
					</li>
 																<li class="none">
									<a href="../manual/architecture.html" title="Architecture">Architecture</a>
					</li>
 																<li class="none">
									<a href="../manual/migration.html" title="Log4j 1.x Migration">Log4j 1.x Migration</a>
					</li>
 																																																																													<li class="collapsed">
									<a href="../manual/api.html" title="Java API">Java API</a>
										</li>
 																<li class="none">
									<a href="../manual/scala-api.html" title="Scala API">Scala API</a>
					</li>
 																																																																																																																																																																																																																				<li class="collapsed">
									<a href="../manual/configuration.html" title="Configuration">Configuration</a>
										</li>
 																																																																																						<li class="collapsed">
									<a href="../manual/webapp.html" title="Web Applications and JSPs">Web Applications and JSPs</a>
										</li>
 																																																																																																																																												<li class="collapsed">
									<a href="../manual/lookups.html" title="Lookups">Lookups</a>
										</li>
 																																																																																																																																																																																																																																																								<li class="collapsed">
									<a href="../manual/appenders.html" title="Appenders">Appenders</a>
										</li>
 																																																																																																																																						<li class="expanded active">
									<a href="../manual/layouts.html" title="Layouts">Layouts</a>
										<ul>
																			<li class="none">
									<a href="../manual/layouts.html#CSVLayouts" title="CSV">CSV</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#GELFLayout" title="GELF">GELF</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#HTMLLayout" title="HTML">HTML</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#JSONLayout" title="JSON">JSON</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#PatternLayout" title="Pattern">Pattern</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#RFC5424Layout" title="RFC-5424">RFC-5424</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#SerializedLayout" title="Serialized">Serialized</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#SyslogLayout" title="Syslog">Syslog</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#XMLLayout" title="XML">XML</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#YamlLayout" title="YAML">YAML</a>
					</li>
 																				<li class="none">
									<a href="../manual/layouts.html#LocationInformation" title="Location Information">Location Information</a>
					</li>
 										</ul>
							</li>
 																																																																																																																																			<li class="collapsed">
									<a href="../manual/filters.html" title="Filters">Filters</a>
										</li>
 																																																																																						<li class="collapsed">
									<a href="../manual/async.html" title="Async Loggers">Async Loggers</a>
										</li>
 																																																																																																								<li class="collapsed">
									<a href="../manual/garbagefree.html" title="Garbage-free Logging">Garbage-free Logging</a>
										</li>
 																<li class="none">
									<a href="../manual/jmx.html" title="JMX">JMX</a>
					</li>
 																<li class="none">
									<a href="../manual/logsep.html" title="Logging Separation">Logging Separation</a>
					</li>
 																																																																																																																																																														<li class="collapsed">
									<a href="../manual/extending.html" title="Extending Log4j">Extending Log4j</a>
										</li>
 																																																																																						<li class="collapsed">
									<a href="../manual/plugins.html" title="Plugins">Plugins</a>
										</li>
 																																																																																															<li class="collapsed">
									<a href="../manual/customconfig.html" title="Programmatic Log4j Configuration">Programmatic Log4j Configuration</a>
										</li>
 																																																																																						<li class="collapsed">
									<a href="../manual/customloglevels.html" title="Custom Log Levels">Custom Log Levels</a>
										</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-tags"></i>Related Projects</li>
																						<li class="none">
					
				
				<a href="http://logging.apache.org/log4j/scala/index.html" class="external" target="_blank" title="Log4j-Scala">Log4j-Scala</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-tags"></i>Legacy</li>
																						<li class="none">
					
				
				<a href="http://logging.apache.org/log4j/1.2/" class="external" target="_blank" title="Log4j 1.2">Log4j 1.2</a>
					</li>
 																<li class="none">
					
				
				<a href="http://logging.apache.org/log4j/log4j-2.3/" class="external" target="_blank" title="Log4j 2.3">Log4j 2.3</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-cog"></i>Components</li>
																						<li class="none">
									<a href="../log4j-api/index.html" title="API">API</a>
					</li>
 																<li class="none">
									<a href="../log4j-core/index.html" title="Implementation">Implementation</a>
					</li>
 																<li class="none">
									<a href="../log4j-jcl/index.html" title="Commons Logging Bridge">Commons Logging Bridge</a>
					</li>
 																<li class="none">
									<a href="../log4j-1.2-api/index.html" title="Log4j 1.2 API">Log4j 1.2 API</a>
					</li>
 																<li class="none">
									<a href="../log4j-slf4j-impl/index.html" title="SLF4J Binding">SLF4J Binding</a>
					</li>
 																<li class="none">
									<a href="../log4j-jul/index.html" title="JUL Adapter">JUL Adapter</a>
					</li>
 																<li class="none">
									<a href="../log4j-to-slf4j/index.html" title="Log4j 2 to SLF4J Adapter">Log4j 2 to SLF4J Adapter</a>
					</li>
 																<li class="none">
									<a href="../log4j-flume-ng/index.html" title="Apache Flume Appender">Apache Flume Appender</a>
					</li>
 																<li class="none">
									<a href="../log4j-taglib/index.html" title="Log4j Tag Library">Log4j Tag Library</a>
					</li>
 																<li class="none">
									<a href="../log4j-jmx-gui/index.html" title="Log4j JMX GUI">Log4j JMX GUI</a>
					</li>
 																<li class="none">
									<a href="../log4j-web/index.html" title="Log4j Web Application Support">Log4j Web Application Support</a>
					</li>
 																<li class="none">
									<a href="../log4j-nosql/index.html" title="Log4j NoSQL support">Log4j NoSQL support</a>
					</li>
 																<li class="none">
									<a href="../log4j-iostreams/index.html" title="Log4j IO Streams">Log4j IO Streams</a>
					</li>
 																<li class="none">
									<a href="../log4j-liquibase/index.html" title="Log4j Liquibase Binding">Log4j Liquibase Binding</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-info-sign"></i>Project Information</li>
																						<li class="none">
									<a href="../dependencies.html" title="Dependencies">Dependencies</a>
					</li>
 																<li class="none">
									<a href="../dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a>
					</li>
 																<li class="none">
									<a href="../dependency-management.html" title="Dependency Management">Dependency Management</a>
					</li>
 																<li class="none">
									<a href="../team-list.html" title="Project Team">Project Team</a>
					</li>
 																<li class="none">
									<a href="../mail-lists.html" title="Mailing Lists">Mailing Lists</a>
					</li>
 																<li class="none">
									<a href="../issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
					</li>
 																<li class="none">
									<a href="../license.html" title="Project License">Project License</a>
					</li>
 																<li class="none">
									<a href="../source-repository.html" title="Source Repository">Source Repository</a>
					</li>
 																<li class="none">
									<a href="../project-summary.html" title="Project Summary">Project Summary</a>
					</li>
 								</ul>
			<ul class="nav nav-list">
		 											 <li class="nav-header"><i class="icon-cog"></i>Project Reports</li>
																						<li class="none">
									<a href="../changes-report.html" title="Changes Report">Changes Report</a>
					</li>
 																<li class="none">
									<a href="../jira-report.html" title="JIRA Report">JIRA Report</a>
					</li>
 																<li class="none">
									<a href="../surefire-report.html" title="Surefire Report">Surefire Report</a>
					</li>
 																<li class="none">
									<a href="../rat-report.html" title="RAT Report">RAT Report</a>
					</li>
 								</ul>
							</div>
						<div id="poweredBy">
															<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
				<img class="poweredBy" alt="Built by Maven" src="../images/maven-feather.png" />
			</a>
									</div>
					</td>
					<td class="content">
						<!-- Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License. -->
    
      <div class="section">
<h2><a name="Layouts"></a>Layouts</h2>
        
<p>An Appender uses a Layout to format a LogEvent into a form that meets the needs of whatever will be
          consuming the log event. In Log4j 1.x and Logback Layouts were expected to transform an event into a
          String. In Log4j 2 Layouts return a byte array. This allows the result of the Layout to be useful in
          many more types of Appenders. However, this means you need to configure most Layouts with a <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a> to
          ensure the byte array contains correct values.
        </p>
        
<p>
          The root class for layouts that use a Charset is <tt>org.apache.logging.log4j.core.layout.AbstractStringLayout</tt>
          where the default is UTF-8. Each layout that extends <tt>AbstractStringLayout</tt>
          can provide its own default. See each layout below.
        </p>
        
<p>
          A custom character encoder was added to Log4j 2.4.1 for the ISO-8859-1 and US-ASCII charsets,
          to bring some of the performance improvements built-in to Java 8 to Log4j for use on Java 7.
          For applications that log only ISO-8859-1 characters, specifying this charset will improve performance significantly.
        </p>
        <a name="CSVLayouts"></a>
        
<div class="section">
<h3><a name="CSV_Layouts"></a>CSV Layouts</h3>
          
<p>
            This layout creates <a class="externalLink" href="https://en.wikipedia.org/wiki/Comma-separated_values">Comma Separated Value (CSV)</a>
            records and requires <a class="externalLink" href="https://commons.apache.org/proper/commons-csv/">Apache Commons CSV</a> 1.4.
          </p>
          
<p>
            The CSV layout can be used in two ways: First, using <tt>CsvParameterLayout</tt> to log event parameters
            to create a custom database, usually to a logger and file appender uniquely configured for this purpose.
            Second, using <tt>CsvLogEventLayout</tt> to log events to create a database, as an alternative to using a
            full DBMS or using a JDBC driver that supports the CSV format.
          </p>
          
<p>
            The <tt>CsvParameterLayout</tt> converts an event's parameters into a CSV record, ignoring the message.
            To log CSV records, you can use the usual Logger methods <tt>info()</tt>, <tt>debug()</tt>, and so on:
          </p>
          
<div>
<pre class="prettyprint linenums">
logger.info(&quot;Ignored&quot;, value1, value2, value3);
</pre></div>
          
<p>
            Which will create the CSV record:
          </p>
          
<div>
<pre class="prettyprint linenums">
value1, value2, value3
</pre></div>
          
<p>
            Alternatively, you can use a <tt>ObjectArrayMessage</tt>, which only carries parameters:
          </p>
          
<div>
<pre class="prettyprint linenums">
logger.info(new ObjectArrayMessage(value1, value2, value3));
</pre></div>
          
<p>
            The layouts <tt>CsvParameterLayout</tt> and <tt>CsvLogEventLayout</tt> are configured with the following parameters:
          </p>
          
<table border="0" class="bodyTable"><caption>CsvParameterLayout and CsvLogEventLayout</caption>
            
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>format</td>
              
<td>String</td>
              
<td>
                One of the predefined formats: <tt>Default</tt>, <tt>Excel</tt>, <tt>MySQL</tt>,
                <tt>RFC4180</tt>, <tt>TDF</tt>.
                See
                  <a class="externalLink" href="https://commons.apache.org/proper/commons-csv/archives/1.4/apidocs/org/apache/commons/csv/CSVFormat.Predefined.html">CSVFormat.Predefined</a>.
              </td>
            </tr>
            
<tr class="a">
              
<td>delimiter</td>
              
<td>Character</td>
              
<td>Sets the delimiter of the format to the specified character.</td>
            </tr>
            
<tr class="b">
              
<td>escape</td>
              
<td>Character</td>
              
<td>Sets the escape character of the format to the specified character.</td>
            </tr>
            
<tr class="a">
              
<td>quote</td>
              
<td>Character</td>
              
<td>Sets the quoteChar of the format to the specified character.</td>
            </tr>
            
<tr class="b">
              
<td>quoteMode</td>
              
<td>String</td>
              
<td>
                Sets the output quote policy of the format to the specified value. One of: <tt>ALL</tt>,
                <tt>MINIMAL</tt>, <tt>NON_NUMERIC</tt>, <tt>NONE</tt>.
              </td>
            </tr>
            
<tr class="a">
              
<td>nullString</td>
              
<td>String</td>
              
<td>Writes null as the given nullString when writing records.</td>
            </tr>
            
<tr class="b">
              
<td>recordSeparator</td>
              
<td>String</td>
              
<td>Sets the record separator of the format to the specified String.</td>
            </tr>
            
<tr class="a">
              
<td>charset</td>
              
<td>Charset</td>
              
<td>The output Charset.</td>
            </tr>
            
<tr class="b">
              
<td>header</td>
              
<td>Sets the header to include when the stream is opened.</td>
              
<td>Desc.</td>
            </tr>
            
<tr class="a">
              
<td>footer</td>
              
<td>Sets the footer to include when the stream is closed.</td>
              
<td>Desc.</td>
            </tr>
        </table>
        
<p>
          Logging as a CSV events looks like this:
        </p>
        
<div>
<pre class="prettyprint linenums">
logger.debug(&quot;one={}, two={}, three={}&quot;, 1, 2, 3);
</pre></div>
        
<p>
          Produces a CSV record with the following fields:
          </p>
<ol style="list-style-type: decimal">
            
<li>Time Nanos</li>
            
<li>Time Millis</li>
            
<li>Level</li>
            
<li>Thread ID</li>
            
<li>Thread Name</li>
            
<li>Thread Priority</li>
            
<li>Formatted Message</li>
            
<li>Logger FQCN</li>
            
<li>Logger Name</li>
            
<li>Marker</li>
            
<li>Thrown Proxy</li>
            
<li>Source</li>
            
<li>Context Map</li>
            
<li>Context Stack</li>
          </ol>
        
        
<div>
<pre class="prettyprint linenums">
0,1441617184044,DEBUG,main,&quot;one=1, two=2, three=3&quot;,org.apache.logging.log4j.spi.AbstractLogger,,,,org.apache.logging.log4j.core.layout.CsvLogEventLayoutTest.testLayout(CsvLogEventLayoutTest.java:98),{},[]
</pre></div>
          
<p>
            Additional <a href="../runtime-dependencies.html">runtime dependencies</a> are required for using CSV layouts.
          </p>
        </div>
        <a name="GELFLayout"></a>
        
<div class="section">
<h3><a name="GELF_Layout"></a>GELF Layout</h3>
          <!-- From Javadoc of org.apache.logging.log4j.core.layout.GelfLayout -->
          
<p>
            Lays out events in the Graylog Extended Log Format (GELF) 1.1.
          </p>
          
<p>
            This layout compresses JSON to GZIP or ZLIB (the <tt>compressionType</tt>) if log event data is larger than 1024 bytes
            (the <tt>compressionThreshold</tt>). This layout does not implement chunking.
          </p>
          
<p>
            Configure as follows to send to a Graylog 2.x server with UDP:
          </p>
          
<div>
<pre class="prettyprint linenums">
  &lt;Appenders&gt;
    &lt;Socket name=&quot;Graylog&quot; protocol=&quot;udp&quot; host=&quot;graylog.domain.com&quot; port=&quot;12201&quot;&gt;
        &lt;GelfLayout host=&quot;someserver&quot; compressionType=&quot;ZLIB&quot; compressionThreshold=&quot;1024&quot;&gt;
            &lt;KeyValuePair key=&quot;additionalField1&quot; value=&quot;constant value&quot;/&gt;
            &lt;KeyValuePair key=&quot;additionalField2&quot; value=&quot;$${ctx:key}&quot;/&gt;
        &lt;/GelfLayout&gt;
    &lt;/Socket&gt;
  &lt;/Appenders&gt;
</pre></div>
          
<p>
            Configure as follows to send to a Graylog 2.x server with TCP:
          </p>
          
<div>
<pre class="prettyprint linenums">
  &lt;Appenders&gt;
    &lt;Socket name=&quot;Graylog&quot; protocol=&quot;tcp&quot; host=&quot;graylog.domain.com&quot; port=&quot;12201&quot;&gt;
        &lt;GelfLayout host=&quot;someserver&quot; compressionType=&quot;OFF&quot; includeNullDelimiter=&quot;true&quot;&gt;
            &lt;KeyValuePair key=&quot;additionalField1&quot; value=&quot;constant value&quot;/&gt;
            &lt;KeyValuePair key=&quot;additionalField2&quot; value=&quot;$${ctx:key}&quot;/&gt;
        &lt;/GelfLayout&gt;
    &lt;/Socket&gt;
  &lt;/Appenders&gt;
</pre></div>
          
<table border="0" class="bodyTable"><caption align="top">GelfLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>host</td>
              
<td>String</td>
              
<td>The value of the <tt>host</tt> property (optional, defaults to local host name).</td>
            </tr>
            
<tr class="a">
              
<td>compressionType</td>
              
<td><tt>GZIP</tt>, <tt>ZLIB</tt> or <tt>OFF</tt></td>
              
<td>Compression to use (optional, defaults to <tt>GZIP</tt>)</td>
            </tr>
            
<tr class="b">
              
<td>compressionThreshold</td>
              
<td>int</td>
              
<td>Compress if data is larger than this number of bytes (optional, defaults to 1024)</td>
            </tr>
            
<tr class="a">
              
<td>includeStacktrace</td>
              
<td>boolean</td>
              
<td>Whether to include full stacktrace of logged Throwables (optional, default to true).
                  If set to false, only the class name and message of the       <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html">Throwable</a>
                    will be included.</td>
            </tr>
            
<tr class="b">
              
<td>includeThreadContext</td>
              
<td>boolean</td>
              
<td>Whether to include thread context as additional fields (optional, default to true).</td>
            </tr>
            
<tr class="a">
              
<td>includeNullDelimiter</td>
              
<td>boolean</td>
              
<td>Whether to include NULL byte as delimiter after each event (optional, default to false).
                  Useful for Graylog GELF TCP input. Cannot be used with compression.</td>
            </tr>
            
          </table>
           
<p>
             See also:
           </p>
           
<ul>
             
<li>The <a class="externalLink" href="http://docs.graylog.org/en/latest/pages/gelf.html#gelf">GELF specification</a></li>
           </ul>
        </div>
        <a name="HTMLLayout"></a>
        
<div class="section">
<h3><a name="HTML_Layout"></a>HTML Layout</h3>
          
<p>The HtmlLayout generates an HTML page and adds each LogEvent to a row in a table.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">HtmlLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting the HTML String to a byte array. The value must be
                a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>. If not specified, this layout uses UTF-8.</td>
            </tr>
            
<tr class="a">
              
<td>contentType</td>
              
<td>String</td>
              
<td>The value to assign to the Content-Type header. The default is &quot;text/html&quot;.</td>
            </tr>
            
<tr class="b">
              
<td>locationInfo</td>
              
<td>boolean</td>
              
<td>
              <a name="HtmlLocationInfo"></a>
              
<p>If true, the filename and line number will be included in the HTML output. The default value is
                false.</p>
                
<p>Generating <a href="#LocationInformation">location information</a>
                is an expensive operation and may impact performance. Use with caution.</p>
                </td>
            </tr>
            
<tr class="a">
              
<td>title</td>
              
<td>String</td>
              
<td>A String that will appear as the HTML title.</td>
            </tr>
            
<tr class="b">
              
<td>fontName</td>
              
<td>String</td>
              
<td>The <tt>font-family</tt> to use. The default is &quot;arial,sans-serif&quot;.</td>
            </tr>
            
<tr class="a">
              
<td>fontSize</td>
              
<td>String</td>
              
<td>The <tt>font-size</tt> to use. The default is &quot;small&quot;.</td>
            </tr>
            
          </table>
        </div>
        <a name="JSONLayout"></a>
        
<div class="section">
<h3><a name="JSON_Layout"></a>JSON Layout</h3>
          
<p>
          Appends a series of JSON events as strings serialized as bytes.
          </p>
          
<div class="section">
<h4><a name="Complete_well-formed_JSON_vs._fragment_JSON"></a>Complete well-formed JSON vs. fragment JSON</h4>
          
<p>
          If you configure <tt>complete=&quot;true&quot;</tt>, the appender outputs a well-formed JSON document. By default,
          with <tt>complete=&quot;false&quot;</tt>, you should include the output as an <i>external file</i> in a
          separate file to form a well-formed JSON document.
          </p>
          
<p>
          If <tt>complete=&quot;false&quot;</tt>, the appender does not write the JSON open array character &quot;[&quot; at the start
          of the document, &quot;]&quot; and the end, nor comma &quot;,&quot; between records.
          </p>
          
<p>
          Log event follows this pattern:
          </p>
          
<div>
<pre class="prettyprint linenums">{
  &quot;timeMillis&quot; : 1493121664118,
  &quot;thread&quot; : &quot;main&quot;,
  &quot;level&quot; : &quot;INFO&quot;,
  &quot;loggerName&quot; : &quot;HelloWorld&quot;,
  &quot;marker&quot; : {
    &quot;name&quot; : &quot;child&quot;,
    &quot;parents&quot; : [ {
      &quot;name&quot; : &quot;parent&quot;,
      &quot;parents&quot; : [ {
        &quot;name&quot; : &quot;grandparent&quot;
      } ]
    } ]
  },
  &quot;message&quot; : &quot;Hello, world!&quot;,
  &quot;thrown&quot; : {
    &quot;commonElementCount&quot; : 0,
    &quot;message&quot; : &quot;error message&quot;,
    &quot;name&quot; : &quot;java.lang.RuntimeException&quot;,
    &quot;extendedStackTrace&quot; : [ {
      &quot;class&quot; : &quot;logtest.Main&quot;,
      &quot;method&quot; : &quot;main&quot;,
      &quot;file&quot; : &quot;Main.java&quot;,
      &quot;line&quot; : 29,
      &quot;exact&quot; : true,
      &quot;location&quot; : &quot;classes/&quot;,
      &quot;version&quot; : &quot;?&quot;
    } ]
  },
  &quot;contextStack&quot; : [ &quot;one&quot;, &quot;two&quot; ],
  &quot;endOfBatch&quot; : false,
  &quot;loggerFqcn&quot; : &quot;org.apache.logging.log4j.spi.AbstractLogger&quot;,
  &quot;contextMap&quot; : {
    &quot;bar&quot; : &quot;BAR&quot;,
    &quot;foo&quot; : &quot;FOO&quot;
  },
  &quot;threadId&quot; : 1,
  &quot;threadPriority&quot; : 5,
  &quot;source&quot; : {
    &quot;class&quot; : &quot;logtest.Main&quot;,
    &quot;method&quot; : &quot;main&quot;,
    &quot;file&quot; : &quot;Main.java&quot;,
    &quot;line&quot; : 29
  }
}</pre></div>
          
<p>
          If <tt>complete=&quot;false&quot;</tt>, the appender does not write the JSON open array character &quot;[&quot; at the start
          of the document, &quot;]&quot; and the end, nor comma &quot;,&quot; between records.
          </p>
          </div>
<div class="section">
<h4><a name="Pretty_vs._compact_JSON"></a>Pretty vs. compact JSON</h4>
          
<p>
          By default, the JSON layout is not compact (a.k.a. not &quot;pretty&quot;) with <tt>compact=&quot;false&quot;</tt>, which
          means the appender uses end-of-line characters and indents lines to format the text. If
          <tt>compact=&quot;true&quot;</tt>,  then no end-of-line or indentation is used. Message content may contain,
          of course, escaped end-of-lines.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">JsonLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting to a byte array. The value must be a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>.
                 If not specified, UTF-8 will be used.</td>
            </tr>
            
<tr class="a">
              
<td>compact</td>
              
<td>boolean</td>
              
<td>If true, the appender does not use end-of-lines and indentation. Defaults to false.</td>
            </tr>
            
<tr class="b">
              
<td>eventEol</td>
              
<td>boolean</td>
              
<td>
                If true, the appender appends an end-of-line after each record. Defaults to false.
                Use with eventEol=true and compact=true to get one record per line.
              </td>
            </tr>
            
<tr class="a">
              
<td>complete</td>
              
<td>boolean</td>
              
<td>If true, the appender includes the JSON header and footer, and comma between records. Defaults to false.</td>
            </tr>
            
<tr class="b">
              
<td>properties</td>
              
<td>boolean</td>
              
<td>If true, the appender includes the thread context map in the generated JSON. Defaults to false.</td>
            </tr>
            
<tr class="a">
              
<td>propertiesAsList</td>
              
<td>boolean</td>
              
<td>If true, the thread context map is included as a list of map entry objects, where each entry has
              a &quot;key&quot; attribute (whose value is the key) and a &quot;value&quot; attribute (whose value is the value).
              Defaults to false, in which case the thread context map is included as a simple map of key-value pairs.</td>
            </tr>
            
<tr class="b">
              
<td>locationInfo</td>
              
<td>boolean</td>
              
<td>
              
<p>If true, the appender includes the location information in the generated JSON. Defaults to false.</p>
              
<p>Generating <a href="#LocationInformation">location information</a>
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="a">
              
<td>includeStacktrace</td>
              
<td>boolean</td>
              
<td>If true, include full stacktrace of any logged       <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html">Throwable</a>
   (optional, default to true).</td>
            </tr>
            
<tr class="b">
              
<td>stacktraceAsString</td>
              
<td>boolean</td>
              
<td>Whether to format the stacktrace as a string, and not a nested object (optional, defaults to false).</td>
            </tr>
            
<tr class="a">
              
<td>includeNullDelimiter</td>
              
<td>boolean</td>
              
<td>Whether to include NULL byte as delimiter after each event (optional, default to false).</td>
            </tr>
            
          </table>
          
<p>
            Additional <a href="../runtime-dependencies.html">runtime dependencies</a> are required for using JsonLayout.
          </p>
        </div></div>
        <a name="PatternLayout"></a>
        
<div class="section">
<h3><a name="Pattern_Layout"></a>Pattern Layout</h3>
          
<p>A flexible layout configurable with pattern string. The goal of this class is to format a LogEvent and
            return the results. The format of the result depends on the <i>conversion pattern</i>.
          </p>
          
<p>The conversion pattern is closely related to the conversion pattern of the printf function in C.
            A conversion pattern is composed of literal text and format control expressions called
            <i>conversion specifiers</i>.
          </p>
          
<p><i>Note that any literal text, including <b>Special Characters</b>, may be included in the conversion
            pattern.</i> Special Characters include <b>\t</b>, <b>\n</b>, <b>\r</b>, <b>\f</b>. Use <b>\\</b> to
            insert a single backslash into the output.
          </p>
          
<p>Each conversion specifier starts with a percent sign (%) and is followed by optional <i>format
            modifiers</i> and a <i>conversion character</i>. The conversion character specifies the type of
            data, e.g. category, priority, date, thread name. The format modifiers control such things as field width,
            padding, left and right justification. The following is a simple example.
          </p>
          
<p>Let the conversion pattern be <b>&quot;%-5p [%t]: %m%n&quot;</b> and assume that the Log4j environment was set to
            use a PatternLayout. Then the statements
 </p>
<div>
<pre>Logger logger = LogManager.getLogger(&quot;MyLogger&quot;);
logger.debug(&quot;Message 1&quot;);
logger.warn(&quot;Message 2&quot;);</pre></div>
            would yield the output
 
<div>
<pre>DEBUG [main]: Message 1
WARN  [main]: Message 2</pre></div>
          
          
<p>Note that there is no explicit separator between text and conversion specifiers. The pattern parser
            knows when it has reached the end of a conversion specifier when it reads a conversion character.
            In the example above the conversion specifier <b>%-5p</b> means the priority of the logging event should
            be left justified to a width of five characters.
          </p>
          
<p>
            If the pattern string does not contain a specifier to handle a Throwable being logged, parsing of the
            pattern will act as if the &quot;%xEx&quot; specifier had be added to the end of the string. To suppress
            formatting of the Throwable completely simply add &quot;%ex{0}&quot; as a specifier in the pattern string.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">PatternLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting the syslog String to a byte array. The String must be
                a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>. If not specified, this layout uses the platform default character set.
              </td>
            </tr>
            
<tr class="a">
              
<td>pattern</td>
              
<td>String</td>
              
<td>A composite pattern string of one or more conversion patterns from the table below. Cannot be
                specified with a PatternSelector.</td>
            </tr>
            
<tr class="b">
              
<td>patternSelector</td>
              
<td>PatternSelector</td>
              
<td>A component that analyzes information in the LogEvent and determines which pattern should be
                  used to format the event. The pattern and patternSelector parameters are mutually exclusive.</td>
            </tr>
            
<tr class="a">
              
<td>replace</td>
              
<td>RegexReplacement</td>
              
<td>Allows portions of the resulting String to be replaced. If configured, the replace element must
                specify the regular expression to match and the substitution. This performs a function similar to
                the RegexReplacement converter but applies to the whole message while the converter only
                applies to the String its pattern generates.
              </td>
            </tr>
            
<tr class="b">
              
<td>alwaysWriteExceptions</td>
              
<td>boolean</td>
              
<td>If <tt>true</tt> (it is by default) exceptions are always written even if the pattern contains no
                exception conversions. This means that if you do not include a way to output exceptions in your pattern,
                the default exception formatter will be added to the end of the pattern. Setting this to
                <tt>false</tt> disables this behavior and allows you to exclude exceptions from your pattern
                output.</td>
            </tr>
            
<tr class="a">
              
<td>header</td>
              
<td>String</td>
              
<td>The optional header string to include at the top of each log file.</td>
            </tr>
            
<tr class="b">
              
<td>footer</td>
              
<td>String</td>
              
<td>The optional footer string to include at the bottom of each log file.</td>
            </tr>
            
<tr class="a">
              
<td>disableAnsi</td>
              
<td>boolean</td>
              
<td>If <tt>true</tt> (default is false), do not output ANSI escape codes.</td>
            </tr>
            
<tr class="b">
              
<td>noConsoleNoAnsi</td>
              
<td>boolean</td>
              
<td>If <tt>true</tt> (default is false) and <tt>System.console()</tt> is null, do not output ANSI escape codes.</td>
            </tr>
            
          </table>
          
<table border="0" class="bodyTable"><caption align="top">RegexReplacement Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>regex</td>
              
<td>String</td>
              
<td>A Java-compliant regular expression to match in the resulting string. See
                        <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html">Pattern</a>
  .</td>
            </tr>
            
<tr class="a">
              
<td>replacement</td>
              
<td>String</td>
              
<td>The string to replace any matched sub-strings with.</td>
            </tr>
            
          </table>
          
<div class="section">
<h4><a name="Patterns"></a>Patterns</h4>
          
<p>The conversions that are provided with Log4j are:
          </p>
          
<table border="0" class="bodyTable">
            
<tr class="a">
              
<th>Conversion Pattern</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td align="center">
                <b>c</b>{precision}<br />
                <b>logger</b>{precision}
              </td>
              
<td>
                
<p>Outputs the name of the logger that published the logging event. The logger conversion
                  specifier can be optionally followed by <i>precision specifier</i>, which consists of a
                  decimal integer, or a pattern starting with a decimal integer.
                </p>
                
<p>When the precision specifier is an integer value, it reduces the size of the logger name.
                  If the number is positive, the layout prints the corresponding number of rightmost logger
                  name components. If negative, the layout removes the corresponding number of leftmost logger
                  name components.
                </p>
                
<p>
                   If the precision contains any non-integer characters, then the layout abbreviates the name
                   based on the pattern. If the precision integer is less than one, the layout still prints
                   the right-most token in full. By default, the layout prints the logger name in full.
                </p>
                
<table border="0" class="bodyTable">
                  
<tr class="a">
                    
<th>Conversion Pattern</th>
                    
<th>Logger Name</th>
                    
<th>Result</th>
                  </tr>
                  
<tr class="b">
                    
<td>%c{1}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>Foo</td>
                  </tr>
                  
<tr class="a">
                    
<td>%c{2}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>commons.Foo</td>
                  </tr>
                  
<tr class="b">
                    
<td>%c{10}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>org.apache.commons.Foo</td>
                  </tr>
                  
<tr class="a">
                    
<td>%c{-1}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>apache.commons.Foo</td>
                  </tr>
                  
<tr class="b">
                    
<td>%c{-2}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>commons.Foo</td>
                  </tr>
                  
<tr class="a">
                    
<td>%c{-10}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>org.apache.commons.Foo</td>
                  </tr>
                  
<tr class="b">
                    
<td>%c{1.}</td>
                    
<td>org.apache.commons.Foo</td>
                    
<td>o.a.c.Foo</td>
                  </tr>
                  
<tr class="a">
                    
<td>%c{1.1.~.~}</td>
                    
<td>org.apache.commons.test.Foo</td>
                    
<td>o.a.~.~.Foo</td>
                  </tr>
                  
<tr class="b">
                    
<td>%c{.}</td>
                    
<td>org.apache.commons.test.Foo</td>
                    
<td>....Foo</td>
                  </tr>
                </table>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
              <a name="PatternClass"></a>
                <b>C</b>{precision}<br />
                <b>class</b>{precision}
              </td>
              
<td>
                
<p>Outputs the fully qualified class name of the caller issuing the logging request.
                  This conversion specifier can be optionally followed by <i>precision specifier</i>, that
                  follows the same rules as the logger name converter.
                </p>
                
<p>Generating the class name of the caller (<a href="#LocationInformation">location information</a>)
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <b>d</b>{pattern}<br />
                <b>date</b>{pattern}
              </td>
              
<td>
                
<p>Outputs the date of the logging event. The date conversion specifier may be
                  followed by a set of braces containing a date and time pattern string per
                        <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a>
  .
                </p>
                
<p>The predefined formats are
                  <tt>DEFAULT</tt>,
                  <tt>ABSOLUTE</tt>,
                  <tt>COMPACT</tt>,
                  <tt>DATE</tt>,
                  <tt>ISO8601</tt>,
                  and
                  <tt>ISO8601_BASIC</tt>.
                </p>
                
<p>You can also use a set of braces containing a time zone id per
                  <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/util/TimeZone.html#getTimeZone(java.lang.String)">
                    java.util.TimeZone.getTimeZone</a>. If no date format specifier is given then the DEFAULT format is used.
                  </p>
<table border="0" class="bodyTable">
                    
<tr class="a">
                      
<th>Pattern</th>
                      
<th>Example</th>
                    </tr>
                    
<tr class="b">
                      
<td>%d{DEFAULT}</td>
                      
<td>2012-11-02 14:34:02,781</td>
                    </tr>
                    
<tr class="a">
                      
<td>%d{ISO8601}</td>
                      
<td>2012-11-02T14:34:02,781</td>
                    </tr>
                    
<tr class="b">
                      
<td>%d{ISO8601_BASIC}</td>
                      
<td>20121102T143402,781</td>
                    </tr>
                    
<tr class="a">
                      
<td>%d{ABSOLUTE}</td>
                      
<td>14:34:02,781</td>
                    </tr>
                    
<tr class="b">
                      
<td>%d{DATE}</td>
                      
<td>02 Nov 2012 14:34:02,781</td>
                    </tr>
                    
<tr class="a">
                      
<td>%d{COMPACT}</td>
                      
<td>20121102143402781</td>
                    </tr>
                    
<tr class="b">
                      
<td>%d{HH:mm:ss,SSS}</td>
                      
<td>14:34:02,781</td>
                    </tr>
                    
<tr class="a">
                      
<td>%d{dd MMM yyyy HH:mm:ss,SSS}</td>
                      
<td>02 Nov 2012 14:34:02,781</td>
                    </tr>
                    
<tr class="b">
                      
<td>%d{HH:mm:ss}{GMT+0}</td>
                      
<td>18:34:02</td>
                    </tr>
                    
<tr class="a">
                      
<td>%d{UNIX}</td>
                      
<td>1351866842</td>
                    </tr>
                    
<tr class="b">
                      
<td>%d{UNIX_MILLIS}</td>
                      
<td>1351866842781</td>
                    </tr>
                  </table>
                
                
<p>
                  %d{UNIX} outputs the UNIX time in seconds. %d{UNIX_MILLIS} outputs the UNIX time in milliseconds.
                  The UNIX time is the difference, in seconds for UNIX and in milliseconds for UNIX_MILLIS, between
                  the current time and midnight, January 1, 1970 UTC. While the time unit is milliseconds, the
                  granularity depends on the operating system
                  (<a class="externalLink" href="http://msdn.microsoft.com/en-us/windows/hardware/gg463266.aspx">Windows</a>).
                  This is an efficient way to output the event time because only a conversion from long to String
                  takes place, there is no Date formatting involved.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <b>enc</b>{<i>pattern</i>}{[HTML|JSON]}<br />
                <b>encode</b>{<i>pattern</i>}{[HTML|JSON]}
              </td>
              
<td>
                
<p>
                  Encodes and escapes special characters suitable for output in specific markup languages.
                  By default, this encodes for HTML if only one option is specified. The second option is used to
                  specify which encoding format should be used. This converter is particularly useful for encoding
                  user provided data so that the output data is not written improperly or insecurely.
                </p>
                
<p>
                  A typical usage would encode the message
                  <tt>%enc{%m}</tt>
                  but user input could come from other locations as well, such as the MDC
                  <tt>%enc{%mdc{key}}</tt>
                </p>
                
<p>Using the HTML encoding format, the following characters are replaced:</p>
                
<table border="0" class="bodyTable">
                  
<tr class="b">
                    
<th>Character</th>
                    
<th>Replacement</th>
                  </tr>
                  
<tr class="a">
                    
<td>'\r', '\n'</td>
                    
<td>Converted into escaped strings &quot;\\r&quot; and &quot;\\n&quot; respectively</td>
                  </tr>
                  
<tr class="b">
                    
<td>&amp;, &lt;, &gt;, &quot;, ', /</td>
                    
<td>Replaced with the corresponding HTML entity</td>
                  </tr>
                </table>
                
<p>
                  Using the JSON encoding format, this follows the escaping rules specified by
                  <a class="externalLink" href="https://www.ietf.org/rfc/rfc4627.txt">RFC 4627 section 2.5</a>:
                </p>
                
<table border="0" class="bodyTable">
                  
<tr class="a">
                    
<th>Character</th>
                    
<th>Replacement</th>
                  </tr>
                  
<tr class="b">
                    
<td>U+0000 - U+001F</td>
                    
<td>\u0000 - \u001F</td>
                  </tr>
                  
<tr class="a">
                    
<td>Any other control characters</td>
                    
<td>Encoded into its <tt>\uABCD</tt> equivalent escaped code point</td>
                  </tr>
                  
<tr class="b">
                    
<td>&quot;</td>
                    
<td>\&quot;</td>
                  </tr>
                  
<tr class="a">
                    
<td>\</td>
                    
<td>\\</td>
                  </tr>
                </table>
                
<p>
                  For example, the pattern <tt>{&quot;message&quot;: &quot;%enc{%m}{JSON}&quot;}</tt> could be used to output a
                  valid JSON document containing the log message as a string value.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <b>equals</b>{pattern}{test}{substitution}<br />
                <b>equalsIgnoreCase</b>{pattern}{test}{substitution}
              </td>
              
<td>
                
<p>Replaces occurrences of 'test', a string, with its replacement 'substitution' in the
                  string resulting from evaluation of the pattern. For example, &quot;%equals{[%marker]}{[]}{}&quot; will
                  replace '[]' strings produces by events without markers with an empty string.
                </p>
                
<p>The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords.
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
				<b>ex</b>|<b>exception</b>|<b>throwable</b><br />
                {<br />
                &#160;&#160;[ &quot;none&quot;<br />
                &#160;&#160;&#160;| &quot;full&quot;<br />
                &#160;&#160;&#160;| depth<br />
                &#160;&#160;&#160;| &quot;short&quot;<br />
                &#160;&#160;&#160;| &quot;short.className&quot;<br />
                &#160;&#160;&#160;| &quot;short.fileName&quot;<br />
                &#160;&#160;&#160;| &quot;short.lineNumber&quot;<br />
                &#160;&#160;&#160;| &quot;short.methodName&quot;<br />
                &#160;&#160;&#160;| &quot;short.message&quot;<br />
                &#160;&#160;&#160;| &quot;short.localizedMessage&quot;]}<br />
                &#160;&#160;[,filters(package,package,...)]<br />
                &#160;&#160;[,separator(<i>separator</i>)]<br />
                }<br />
                {suffix(<i>pattern</i>)<br />
                }<br />
              </td>
              
<td>
                
<p>
                  Outputs the Throwable trace bound to the logging event, by default this will output the full trace
                  as one would normally find with a call to <tt>Throwable.printStackTrace()</tt>.
                </p>
                
<p>
                  You can follow the throwable conversion word with an option in the form <tt>%throwable{option}</tt>.
                </p>
                
<p>
                  <tt>%throwable{short}</tt> outputs the first line of the Throwable.
                </p>
                
<p>
                  <tt>%throwable{short.className}</tt> outputs the name of the class where the exception occurred.
                </p>
                
<p>
                  <tt>%throwable{short.methodName}</tt> outputs the method name where the exception occurred.
                </p>
                
<p>
                  <tt>%throwable{short.fileName}</tt> outputs the name of the class where the exception occurred.
                </p>
                
<p>
                  <tt>%throwable{short.lineNumber}</tt> outputs the line number where the exception occurred.
                </p>
                
<p>
                  <tt>%throwable{short.message}</tt> outputs the message.
                </p>
                
<p>
                  <tt>%throwable{short.localizedMessage}</tt> outputs the localized message.
                </p>
                
<p>
                  <tt>%throwable{n}</tt> outputs the first n lines of the stack trace.
                </p>
                
<p>
                  Specifying <tt>%throwable{none}</tt> or <tt>%throwable{0}</tt> suppresses output of the exception.
                </p>
                
<p> 
                  Use <tt>filters(<i>packages</i>)</tt> where <i>packages</i> is a list of package names to 
                  suppress matching stack frames from stack traces.
                </p>
                
<p>
                  Use a <tt>separator</tt> string to separate the lines of a stack trace. For example: 
                  <tt>separator(|)</tt>. The default value is the <tt>line.separator</tt> system property, 
                  which is operating system dependent.
                </p>
                
<p>
                  Use <tt>ex{suffix(<i>pattern</i>)</tt> to add the output of <i>pattern</i> to the output only 
                  when there is a throwable to print.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
              <a name="PatternFile"></a>
                <b>F</b><br />
                <b>file</b>
              </td>
              
<td>
<p>Outputs the file name where the logging request was issued.</p>
                
<p>Generating the file information (<a href="#LocationInformation">location information</a>)
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <b>highlight</b>{pattern}{style}
              </td>
              
<td>
                
<p>Adds ANSI colors to the result of the enclosed pattern based on the current event's logging level.
                </p>
                
<p>The default colors for each level are:
                 </p>
<table border="0" class="bodyTable">
                   
<tr class="a">
                     
<th>Level</th>
                     
<th>ANSI color</th>
                   </tr>
                   
<tr class="b">
                     
<td>FATAL</td>
                     
<td>Bright red</td>
                   </tr>
                   
<tr class="a">
                     
<td>ERROR</td>
                     
<td>Bright red</td>
                   </tr>
                   
<tr class="b">
                     
<td>WARN</td>
                     
<td>Yellow</td>
                   </tr>
                   
<tr class="a">
                     
<td>INFO</td>
                     
<td>Green</td>
                   </tr>
                   
<tr class="b">
                     
<td>DEBUG</td>
                     
<td>Cyan</td>
                   </tr>
                   
<tr class="a">
                     
<td>TRACE</td>
                     
<td>Black (looks dark grey)</td>
                   </tr>
                 </table>
                
                
<p>The color names are ANSI names defined in the
                  <a href="../log4j-core/apidocs/org/apache/logging/log4j/core/pattern/AnsiEscape.html" class="javadoc">AnsiEscape</a> class.
                </p>
                
<p>The color and attribute names and are standard, but the exact shade, hue, or value.
                </p>
                
<table border="0" class="bodyTable"><caption>Color table</caption>
                  
                  <tbody>
                    
<tr class="a">
                      
<th>Intensity Code</th>
                      
<th>0</th>
                      
<th>1</th>
                      
<th>2</th>
                      
<th>3</th>
                      
<th>4</th>
                      
<th>5</th>
                      
<th>6</th>
                      
<th>7</th>
                    </tr>
                    
<tr class="b">
                      
<th>Normal</th>
                      
<td style="background: black;color:white">Black</td>
                      
<td style="background: maroon;color:white">Red</td>
                      
<td style="background: green;color:white">Green</td>
                      
<td style="background: olive;color:white">Yellow</td>
                      
<td style="background: navy;color:white">Blue</td>
                      
<td style="background: purple;color:white">Magenta</td>
                      
<td style="background: teal;color:white">Cyan</td>
                      
<td style="background: silver;color:black">White</td>
                    </tr>
                    
<tr class="a">
                      
<th>Bright</th>
                      
<td style="background: gray;color:white">Black</td>
                      
<td style="background: red;color:black">Red</td>
                      
<td style="background: lime;color:black">Green</td>
                      
<td style="background: yellow;color:black">Yellow</td>
                      
<td style="background: blue;color:white">Blue</td>
                      
<td style="background: fuchsia;color:black">Magenta</td>
                      
<td style="background: cyan;color:black">Cyan</td>
                      
<td style="background: white;color:black">White</td>
                    </tr>
                  </tbody>
                </table>
                
<p>You can use the default colors with:
                 </p>
<div>
<pre>%highlight{%d [%t] %-5level: %msg%n%throwable}</pre></div>
                
                
<p>You can override the default colors in the optional {style} option. For example:
                  </p>
<div>
<pre>%highlight{%d [%t] %-5level: %msg%n%throwable}{FATAL=white, ERROR=red, WARN=blue, INFO=black, DEBUG=green, TRACE=blue}</pre></div>
                 
                
<p>You can highlight only the a portion of the log event:
                 </p>
<div>
<pre>%d [%t] %highlight{%-5level: %msg%n%throwable}</pre></div>
                
                
<p>You can style one part of the message and highlight the rest the log event:
                  </p>
<div>
<pre>%style{%d [%t]}{black} %highlight{%-5level: %msg%n%throwable}</pre></div>
                 
                                  
<p>You can also use the STYLE key to use a predefined group of colors:
                  </p>
<div>
<pre>%highlight{%d [%t] %-5level: %msg%n%throwable}{STYLE=Logback}</pre></div>
                  The STYLE value can be one of:
                 
<table border="0" class="bodyTable">
                   
                   
<tr class="a">
                     
<th>Style</th>
                     
<th>Description</th>
                   </tr>
                   
<tr class="b">
                     
<td>Default</td>
                     
<td>See above</td>
                   </tr>
                   
<tr class="a">
                     
<td>Logback</td>
                     
<td>
                       
<table border="0" class="bodyTable">
                         
<tr class="b">
                           
<th>Level</th>
                           
<th>ANSI color</th>
                         </tr>
                         
<tr class="a">
                           
<td>FATAL</td>
                           
<td>Blinking bright red</td>
                         </tr>
                         
<tr class="b">
                           
<td>ERROR</td>
                           
<td>Bright red</td>
                         </tr>
                         
<tr class="a">
                           
<td>WARN</td>
                           
<td>Red</td>
                         </tr>
                         
<tr class="b">
                           
<td>INFO</td>
                           
<td>Blue</td>
                         </tr>
                         
<tr class="a">
                           
<td>DEBUG</td>
                           
<td>Normal</td>
                         </tr>
                         
<tr class="b">
                           
<td>TRACE</td>
                           
<td>Normal</td>
                         </tr>
                       </table>
                     </td>
                   </tr>
                 </table>
                
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternMap"></a>
                <b>K</b>{key}<br />
                <b>map</b>{key}<br />
                <b>MAP</b>{key}
              </td>
              
<td>
                
<p>Outputs the entries in a
                  <a href="../log4j-api/apidocs/org/apache/logging/log4j/message/MapMessage.html" class="javadoc">MapMessage</a>,
                  if one is present in the event. The <b>K</b> conversion character can be followed by the key
                  for the map placed between braces, as in
                  <b>%K{clientNumber}</b> where <tt>clientNumber</tt> is the key. The value in the Map
                  corresponding to the key will be output. If no additional sub-option
                  is specified, then the entire contents of the Map key value pair set
                  is output using a format {{key1,val1},{key2,val2}}
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
              <a name="PatternLocation"></a>
                <b>l</b><br />
                <b>location</b>
              </td>
              
<td>
                
<p>Outputs location information of the caller which generated the logging event.
                </p>
                
<p>The location information depends on the JVM implementation but usually consists of the fully
                  qualified name of the calling method followed by the callers source the file name and line
                  number between parentheses.
                </p>
                
<p>Generating <a href="#LocationInformation">location information</a>
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
              <a name="PatternLine"></a>
                <b>L</b><br />
                <b>line</b>
              </td>
              
<td>
<p>Outputs the line number from where the logging request
                was issued.</p>
                
<p>Generating line number information (<a href="#LocationInformation">location information</a>)
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternMessage"></a>
                <b>m</b>{nolookups}{ansi}<br />
                <b>msg</b>{nolookups}{ansi}<br />
                <b>message</b>{nolookups}{ansi}
              </td>
              
<td>
                
<p>
                  Outputs the application supplied message associated with the logging event.
                </p>
                <!-- Copied and tweaked from Javadoc for org.apache.logging.log4j.core.pattern.JAnsiMessageRenderer -->
                
<p>
                  Add <tt>{ansi}</tt> to render messages with ANSI escape codes (requires JAnsi.)
                </p>
                
<p>
                  The default syntax for embedded ANSI codes is:
                </p>
                
<div>
<pre class="prettyprint linenums">@|<i>code</i>(,<i>code</i>)* <i>text</i>|@</pre></div>
                
<p>
                  For example, to render the message <tt>&quot;Hello&quot;</tt> in green, use:
                </p>
                
<div>
<pre class="prettyprint linenums">@|green Hello|@</pre></div>
                
<p>
                  To render the message <tt>&quot;Hello&quot;</tt> in bold and red, use:
                </p>
                
<div>
<pre class="prettyprint linenums">@|bold,red Warning!|@</pre></div>
                
<p>
                  You can also define custom style names in the configuration with the syntax:
                </p>
                
<div>
<pre class="prettyprint linenums">%message{ansi}{StyleName=value(,value)*( StyleName=value(,value)*)*}%n</pre></div>
                
<p>
                  For example:
                </p>
                
<div>
<pre class="prettyprint linenums">%message{ansi}{WarningStyle=red,bold KeyStyle=white ValueStyle=blue}%n</pre></div>
                
<p>
                  The call site can look like this:
                </p>
                
<div>
<pre class="prettyprint linenums">logger.info(&quot;@|KeyStyle {}|@ = @|ValueStyle {}|@&quot;, entry.getKey(), entry.getValue());</pre></div>
                
<p>
                  Use <tt>{nolookups}</tt> to log messages like <tt>&quot;${date:YYYY-MM-dd}&quot;</tt>
                  without using any lookups. Normally calling <tt>logger.info(&quot;Try ${date:YYYY-MM-dd}&quot;)</tt>
                  would replace the date template <tt>${date:YYYY-MM-dd}</tt> with an actual date.
                  Using <tt>nolookups</tt> disables this feature and logs the message string untouched.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
              <a name="PatternMethod"></a>
                <b>M</b><br />
                <b>method</b>
              </td>
              
<td>
<p>Outputs the method name where the logging request was issued.</p>
                
<p>Generating the method name of the caller (<a href="#LocationInformation">location information</a>)
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternMarker"></a>
                <b>marker</b>
              </td>
              
<td>The full name of the marker, including parents, if one is present.</td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternMarkerSimpleName"></a>
                <b>markerSimpleName</b>
              </td>
              
<td>The simple name of the marker (not including parents), if one is present.</td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternMaxLength"></a>
                <b>maxLen</b><br />
                <b>maxLength</b>
              </td>
              
<td>
                
<p>
                  Outputs the result of evaluating the pattern and truncating the result. If the length is greater
                  than 20, then the output will contain a trailing ellipsis. If the provided length is invalid, a
                  default value of 100 is used.
                </p>
                
<p>
                  Example syntax: <tt>%maxLen{%p: %c{1} - %m%notEmpty{ =&gt;%ex{short}}}{160}</tt> will be limited to
                  160 characters with a trailing ellipsis. Another example: <tt>%maxLen{%m}{20}</tt> will be
                  limited to 20 characters and no trailing ellipsis.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternNewLine"></a>
                <b>n</b>
              </td>
              
<td>
                
<p>Outputs the platform dependent line separator character or characters.
                </p>
                
<p>This conversion character offers practically the same
                  performance as using non-portable line separator strings such as
                  &quot;\n&quot;, or &quot;\r\n&quot;. Thus, it is the preferred way of specifying a
                  line separator.
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
              <a name="NanoTime"></a>
                <b>N</b><br />
                <b>nano</b>
              </td>
              
<td>
<p>Outputs the result of <tt>System.nanoTime()</tt> at the time the log event was created.</p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="Process_ID"></a>
                <b>pid</b>{[defaultValue]}<br />
                <b>processId</b>{[defaultValue]}
              </td>
              
<td>
<p>Outputs the process ID if supported by the underlying platform. An optional default value may be
                specified to be shown if the platform does not support process IDs.</p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
              <a name="VariablesNotEmpty"></a>
                <b>variablesNotEmpty</b>{pattern}<br />
                <b>varsNotEmpty</b>{pattern}<br />
                <b>notEmpty</b>{pattern}
              </td>
              
<td>
                
<p>
                  Outputs the result of evaluating the pattern if and only if all variables in the pattern are not empty.
                </p>
                
<p>
                  For example:
                  </p>
<div>
<pre>%notEmpty{[%marker]}</pre></div>
                
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternLevel"></a>
                <b>p</b>|<b>level</b>{<i>level</i>=<i>label</i>, <i>level</i>=<i>label</i>, ...}
                <b>p</b>|<b>level</b>{length=<i>n</i>}
                <b>p</b>|<b>level</b>{lowerCase=<i>true</i>|<i>false</i>}
              </td>
              
<td>
                
<p>
                  Outputs the level of the logging event. You provide a level name map in the form
                  &quot;level=value, level=value&quot; where level is the name of the Level and value is the value that
                  should be displayed instead of the name of the Level.
                </p>
                
<p>
                  For example:
                  </p>
<div>
<pre>%level{WARN=Warning, DEBUG=Debug, ERROR=Error, TRACE=Trace, INFO=Info}</pre></div>
                
                
<p>
                  Alternatively, for the compact-minded:
                  </p>
<div>
<pre>%level{WARN=W, DEBUG=D, ERROR=E, TRACE=T, INFO=I}</pre></div>
                
                
<p>
                  More succinctly, for the same result as above, you can define the length of the level label:
                  </p>
<div>
<pre>%level{length=1}</pre></div>
                  If the length is greater than a level name length, the layout uses the normal level name.
                
                
<p>
                  You can combine the two kinds of options:
                  </p>
<div>
<pre>%level{ERROR=Error, length=2}</pre></div>
                  This give you the <tt>Error</tt> level name and all other level names of length 2.
                
                
<p>
                  Finally, you can output lower-case level names (the default is upper-case):
                  </p>
<div>
<pre>%level{lowerCase=true}</pre></div>
                
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternRelative"></a>
                <b>r</b><br />
                <b>relative</b>
              </td>
              
<td>Outputs the number of milliseconds elapsed since the JVM was started until the creation
                of the logging event.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternReplace"></a>
                <b>replace</b>{pattern}{regex}{substitution}
              </td>
              
<td>
                
<p>Replaces occurrences of 'regex', a regular expression, with its replacement 'substitution' in the
                  string resulting from evaluation of the pattern. For example, &quot;%replace{%msg}{\s}{}&quot; will remove
                  all spaces contained in the event message.
                </p>
                
<p>The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords.
                  For instance, &quot;%replace{%logger %msg}{\.}{/}&quot; will replace all dots in the logger or the message of
                  the event with a forward slash.
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternException"></a>
                <b>rEx</b>|<b>rException</b>|<b>rThrowable</b><br />
                &#160;&#160;{<br />
                &#160;&#160;&#160;&#160;[&quot;none&quot; | &quot;short&quot; | &quot;full&quot; | depth]<br />
                &#160;&#160;&#160;&#160;[,filters(package,package,...)]<br />
                &#160;&#160;&#160;&#160;[,separator(<i>separator</i>)]<br />
                &#160;&#160;}<br />
                &#160;&#160;{ansi(<br />
                &#160;&#160;&#160;&#160;Key=Value,Value,...<br />
                &#160;&#160;&#160;&#160;Key=Value,Value,...<br />
                &#160;&#160;&#160;&#160;...)<br />
                &#160;&#160;}<br />
                &#160;&#160;{suffix(<i>pattern</i>)}<br />
              </td>
              
<td>
                
<p>
                  The same as the %throwable conversion word but the stack trace is printed starting with the
                  first exception that was thrown followed by each subsequent wrapping exception.
                </p>
                
<p>
                  The throwable conversion word can be followed by an option in the form
                  <tt>%rEx{short}</tt> which will only output the first line of the Throwable or 
                  <tt>%rEx{n}</tt> where the first n lines of the stack trace will be printed.
                </p>
                
<p> 
                  Specifying <tt>%rEx{none}</tt> or <tt>%rEx{0}</tt> will suppress printing of the exception.
                </p>
                
<p> 
                  Use <tt>filters(<i>packages</i>)</tt> where <i>packages</i> is a list of package names to 
                  suppress matching stack frames from stack traces.
                </p>
                
<p>
                  Use a <tt>separator</tt> string to separate the lines of a stack trace. For example: 
                  <tt>separator(|)</tt>. The default value is the <tt>line.separator</tt> system property, 
                  which is operating system dependent.
                </p>
                
<p>
                  Use <tt>rEx{suffix(<i>pattern</i>)</tt> to add the output of <i>pattern</i> to the output only 
                  when there is a throwable to print.
                </p>
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternSequenceNumber"></a>
                <b>sn</b><br />
                <b>sequenceNumber</b>
              </td>
              
<td>Includes a sequence number that will be incremented in every event. The counter is a
                static variable so will only be unique within applications that share the same converter Class
                object.</td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternStyle"></a>
                <b>style</b>{pattern}{ANSI style}
              </td>
              
<td>
                
<p>Uses ANSI escape sequences to style the result of the enclosed pattern. The style can consist of
                  a comma separated list of style names from the following table.
                  </p>
<table border="0" class="bodyTable">
                    
<tr class="a">
                      
<th>Style Name</th>
                      
<th>Description</th>
                    </tr>
                    
<tr class="b">
                      
<td>Normal</td>
                      
<td>Normal display</td>
                    </tr>
                    
<tr class="a">
                      
<td>Bright</td>
                      
<td>Bold</td>
                    </tr>
                    
<tr class="b">
                      
<td>Dim</td>
                      
<td>Dimmed or faint characters</td>
                    </tr>
                    
<tr class="a">
                      
<td>Underline</td>
                      
<td>Underlined characters</td>
                    </tr>
                    
<tr class="b">
                      
<td>Blink</td>
                      
<td>Blinking characters</td>
                    </tr>
                    
<tr class="a">
                      
<td>Reverse</td>
                      
<td>Reverse video</td>
                    </tr>
                    
<tr class="b">
                      
<td>Hidden</td>
                      
<td></td>
                    </tr>
                    
<tr class="a">
                      
<td>Black or FG_Black</td>
                      
<td>Set foreground color to black</td>
                    </tr>
                    
<tr class="b">
                      
<td>Red or FG_Red</td>
                      
<td>Set foreground color to red</td>
                    </tr>
                    
<tr class="a">
                      
<td>Green or FG_Green</td>
                      
<td>Set foreground color to green</td>
                    </tr>
                    
<tr class="b">
                      
<td>Yellow or FG_Yellow</td>
                      
<td>Set foreground color to yellow</td>
                    </tr>
                    
<tr class="a">
                      
<td>Blue or FG_Blue</td>
                      
<td>Set foreground color to blue</td>
                    </tr>
                    
<tr class="b">
                      
<td>Magenta or FG_Magenta</td>
                      
<td>Set foreground color to magenta</td>
                    </tr>
                    
<tr class="a">
                      
<td>Cyan or FG_Cyan</td>
                      
<td>Set foreground color to cyan</td>
                    </tr>
                    
<tr class="b">
                      
<td>White or FG_White</td>
                      
<td>Set foreground color to white</td>
                    </tr>
                    
<tr class="a">
                      
<td>Default or FG_Default</td>
                      
<td>Set foreground color to default (white)</td>
                    </tr>
                    
<tr class="b">
                      
<td>BG_Black</td>
                      
<td>Set background color to black</td>
                    </tr>
                    
<tr class="a">
                      
<td>BG_Red</td>
                      
<td>Set background color to red</td>
                    </tr>
                    
<tr class="b">
                      
<td>BG_Green</td>
                      
<td>Set background color to green</td>
                    </tr>
                    
<tr class="a">
                      
<td>BG_Yellow</td>
                      
<td>Set background color to yellow</td>
                    </tr>
                    
<tr class="b">
                      
<td>BG_Blue</td>
                      
<td>Set background color to blue</td>
                    </tr>
                    
<tr class="a">
                      
<td>BG_Magenta</td>
                      
<td>Set background color to magenta</td>
                    </tr>
                    
<tr class="b">
                      
<td>BG_Cyan</td>
                      
<td>Set background color to cyan</td>
                    </tr>
                    
<tr class="a">
                      
<td>BG_White</td>
                      
<td>Set background color to white</td>
                    </tr>
                  </table>
                
				
<p>For example:
                  </p>
<div>
<pre>%style{%d{ISO8601}}{black} %style{[%t]}{blue} %style{%-5level:}{yellow} %style{%msg%n%throwable}{green}</pre></div>
                
				
<p>You can also combine styles:
                  </p>
<div>
<pre>%d %highlight{%p} %style{%logger}{bright,cyan} %C{1.} %msg%n</pre></div>
                
				
<p>You can also use <tt>%</tt> with a color like <tt>%black</tt>, <tt>%blue</tt>, <tt>%cyan</tt>, and so on. For example:
                  </p>
<div>
<pre>%black{%d{ISO8601}} %blue{[%t]} %yellow{%-5level:} %green{%msg%n%throwable}</pre></div>
				
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternThreadId"></a>
                <b>T</b><br />
                <b>tid</b><br />
                <b>threadId</b>
              </td>
              
<td>Outputs the ID of the thread that generated the logging event.</td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternThreadName"></a>
                <b>t</b><br />
                <b>tn</b><br />
                <b>thread</b><br />
                <b>threadName</b>
              </td>
              
<td>Outputs the name of the thread that generated the logging event.</td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternThreadPriority"></a>
                <b>tp</b><br />
                <b>threadPriority</b>
              </td>
              
<td>Outputs the priority of the thread that generated the logging event.</td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternNDC"></a>
                <b>x</b><br />
                <b>NDC</b>
              </td>
              
<td>Outputs the Thread Context Stack (also known as the Nested Diagnostic Context or NDC)
                associated with the thread that generated the logging event.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternMDC"></a>
                <b>X</b>{key[,key2...]}<br />
                <b>mdc</b>{key[,key2...]}<br />
                <b>MDC</b>{key[,key2...]}
              </td>
              
<td>
                
<p>Outputs the Thread Context Map (also known as the Mapped Diagnostic Context or MDC)
                  associated with the thread that generated the logging event. The
                  <b>X</b>
                  conversion character can be followed by one or more keys for the
                  map placed between braces, as in
                  <b>%X{clientNumber}</b>
                  where
                  <tt>clientNumber</tt>
                  is the key. The value in the MDC
                  corresponding to the key will be output.</p>
                
<p>If a list of keys are provided, such as <b>%X{name, number}</b>, then each key that is present in the
                    ThreadContext will be output using the format {name=val1, number=val2}. The key/value pairs will be
                  printed in the order they appear in the list.</p>
                
<p>If no sub-options are specified then the entire contents of the MDC key value pair set
                  is output using a format {key1=val1, key2=val2}. The key/value pairs will be printed in sorted order.
                </p>
                
<p>See the
                  <a href="../log4j-api/apidocs/org/apache/logging/log4j/ThreadContext.html" class="javadoc">ThreadContext</a>
                  class for more details.
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternUUID"></a>
                <b>u</b>{&quot;RANDOM&quot; | &quot;TIME&quot;}<br />
                <b>uuid</b>
              </td>
              
<td>Includes either a random or a time-based UUID. The time-based UUID is a Type 1 UUID that can
                generate up to 10,000 unique ids per millisecond, will use the MAC address of each host, and to
                try to insure uniqueness across multiple JVMs and/or ClassLoaders on the same host a
                random number between 0 and 16,384 will be associated with each instance of the UUID generator
                Class and included in each time-based UUID generated. Because time-based UUIDs contain
                the MAC address and timestamp they should be used with care as they can cause a security
                vulnerability.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">
                <a name="PatternExtendedException"></a>
                <b>xEx</b>|<b>xException</b>|<b>xThrowable</b><br />
                &#160;&#160;{<br />
                &#160;&#160;&#160;&#160;[&quot;none&quot; | &quot;short&quot; | &quot;full&quot; | depth]<br />
                &#160;&#160;&#160;&#160;[,filters(package,package,...)]<br />
                &#160;&#160;&#160;&#160;[,separator(<i>separator</i>)]<br />
                &#160;&#160;}<br />
                &#160;&#160;{ansi(<br />
                &#160;&#160;&#160;&#160;Key=Value,Value,...<br />
                &#160;&#160;&#160;&#160;Key=Value,Value,...<br />
                &#160;&#160;&#160;&#160;...)<br />
                &#160;&#160;}<br />
                &#160;&#160;{suffix(<i>pattern</i>)}<br />
              </td>
              
<td>
                
<p>The same as the %throwable conversion word but also includes class packaging information.
                </p>
                
<p>
                  At the end of each stack element of the exception, a string containing the name of the jar file
                  that contains the class or the directory the class is located in and the &quot;Implementation-Version&quot;
                  as found in that jar's manifest will be added. If the information is uncertain, then the class
                  packaging data will be preceded by a tilde, i.e. the '~' character.
                </p>
                
<p>The throwable conversion word can be followed by an option in the form
                  <tt>%xEx{short}</tt>
                  which will only output the first line of the Throwable or <tt>%xEx{n}</tt> where
                  the first n lines of the stack trace will be printed. Specifying <tt>%xEx{none}</tt>
                  or <tt>%xEx{0}</tt> will suppress printing of the exception.
                </p>
                
<p> 
                  Use <tt>filters(<i>packages</i>)</tt> where <i>packages</i> is a list of package names to 
                  suppress matching stack frames from stack traces.
                </p>
                
<p>
                  Use a <tt>separator</tt> string to separate the lines of a stack trace. For example: 
                  <tt>separator(|)</tt>. The default value is the <tt>line.separator</tt> system property, 
                  which is operating system dependent.
                </p>
                
<p>
                 The <tt>ansi</tt> option renders stack traces with ANSI escapes code using the JAnsi library.
                 Use <tt>{ansi}</tt> to use the default color mapping. You can specify your own mappings with
                 <tt>key=value</tt> pairs. The keys are:
                </p>
                  
<ul>
                    
<li>Prefix</li>
                    
<li>Name</li>
                    
<li>NameMessageSeparator</li>
                    
<li>Message</li>
                    
<li>At</li>
                    
<li>CauseLabel</li>
                    
<li>Text</li>
                    
<li>More</li>
                    
<li>Suppressed</li>
                    
<li>StackTraceElement.ClassName</li>
                    
<li>StackTraceElement.ClassMethodSeparator</li>
                    
<li>StackTraceElement.MethodName</li>
                    
<li>StackTraceElement.NativeMethod</li>
                    
<li>StackTraceElement.FileName</li>
                    
<li>StackTraceElement.LineNumber</li>
                    
<li>StackTraceElement.Container</li>
                    
<li>StackTraceElement.ContainerSeparator</li>
                    
<li>StackTraceElement.UnknownSource</li>
                    
<li>ExtraClassInfo.Inexact</li>
                    
<li>ExtraClassInfo.Container</li>
                    
<li>ExtraClassInfo.ContainerSeparator</li>
                    
<li>ExtraClassInfo.Location</li>
                    
<li>ExtraClassInfo.Version</li>
                  </ul>
                
<p>
                  The values are names from JAnsi's
                  <a class="externalLink" href="https://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/AnsiRenderer.Code.html">Code</a>
                  class like <tt>blue</tt>, <tt>bg_red</tt>, and so on (Log4j ignores case.)
                </p>
                
<p>
                  The special key <tt>StyleMapName</tt> can be set to one of the following predefined maps:
                  <tt>Spock</tt>, <tt>Kirk</tt>.
                </p>
                
<p>
                  As with %throwable, the <b>%xEx{suffix(<i>pattern</i>)</b> conversion will add the output of
                  <i>pattern</i> to the output only if there is a throwable to print.
                </p>
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">
                <a name="PatternPercentLiteral"></a>
                <b>%</b>
              </td>
              
<td>The sequence %% outputs a single percent sign.
              </td>
            </tr>
          </table>
          
<p>By default the relevant information is output as is. However,
            with the aid of format modifiers it is possible to change the
            minimum field width, the maximum field width and justification.
          </p>
          
<p>The optional format modifier is placed between the percent sign
            and the conversion character.
          </p>
          
<p>The first optional format modifier is the
            <i>left justification
              flag
            </i>
            which is just the minus (-) character. Then comes the
            optional
            <i>minimum field width</i>
            modifier. This is a decimal
            constant that represents the minimum number of characters to
            output. If the data item requires fewer characters, it is padded on
            either the left or the right until the minimum width is
            reached. The default is to pad on the left (right justify) but you
            can specify right padding with the left justification flag. The
            padding character is space. If the data item is larger than the
            minimum field width, the field is expanded to accommodate the
            data. The value is never truncated.
          </p>
          
<p>This behavior can be changed using the
            <i>maximum field
              width
            </i>
            modifier which is designated by a period followed by a
            decimal constant. If the data item is longer than the maximum
            field, then the extra characters are removed from the
            <i>beginning</i>
            of the data item and not from the end. For
            example, it the maximum field width is eight and the data item is
            ten characters long, then the first two characters of the data item
            are dropped. This behavior deviates from the printf function in C
            where truncation is done from the end.
          </p>
          
<p>Truncation from the end is possible by appending a minus character
            right after the period. In that case, if the maximum field width
            is eight and the data item is ten characters long, then the last
            two characters of the data item are dropped.
          </p>
          
<p>Below are various format modifier examples for the category
            conversion specifier.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">Pattern Converters</caption>
            
<tr class="a">
              
<th>Format modifier</th>
              
<th>left justify</th>
              
<th>minimum width</th>
              
<th>maximum width</th>
              
<th>comment</th>
            </tr>
            
<tr class="b">
              
<td align="center">%20c</td>
              
<td align="center">false</td>
              
<td align="center">20</td>
              
<td align="center">none</td>
              
<td>Left pad with spaces if the category name is less than 20
                characters long.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">%-20c</td>
              
<td align="center">true</td>
              
<td align="center">20</td>
              
<td align="center">none</td>
              
<td>Right pad with
                spaces if the category name is less than 20 characters long.
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">%.30c</td>
              
<td align="center">NA</td>
              
<td align="center">none</td>
              
<td align="center">30</td>
              
<td>Truncate from the beginning if the category name is longer than 30
                characters.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">%20.30c</td>
              
<td align="center">false</td>
              
<td align="center">20</td>
              
<td align="center">30</td>
              
<td>Left pad with spaces if the category name is shorter than 20
                characters. However, if category name is longer than 30 characters,
                then truncate from the beginning.
              </td>
            </tr>
            
<tr class="b">
              
<td align="center">%-20.30c</td>
              
<td align="center">true</td>
              
<td align="center">20</td>
              
<td align="center">30</td>
              
<td>Right pad with spaces if the category name is shorter than 20
                characters. However, if category name is longer than 30 characters,
                then truncate from the beginning.
              </td>
            </tr>
            
<tr class="a">
              
<td align="center">%-20.-30c</td>
              
<td align="center">true</td>
              
<td align="center">20</td>
              
<td align="center">30</td>
              
<td>Right pad with spaces if the category name is shorter than 20
                characters. However, if category name is longer than 30 characters,
                then truncate from the end.
              </td>
            </tr>
            
          </table>
          </div>
<div class="section">
<h4><a name="ANSI_Styling_on_Windows"></a>ANSI Styling on Windows</h4>
          
<p>ANSI escape sequences are supported natively on many platforms but are not by default on Windows. To
            enable ANSI support simply add the <a class="externalLink" href="http://jansi.fusesource.org/">Jansi</a> jar to your
            application and Log4j will automatically make use of it when writing to the console.
          </p>
          </div>
<div class="section">
<h4><a name="Example_Patterns"></a>Example Patterns</h4>
          
<div class="section">
<h5><a name="Filtered_Throwables"></a>Filtered Throwables</h5>
          
<p>This example shows how to filter out classes from unimportant packages in stack traces.
          </p>
          
<div>
<pre class="prettyprint linenums">&lt;properties&gt;
  &lt;property name=&quot;filters&quot;&gt;org.junit,org.apache.maven,sun.reflect,java.lang.reflect&lt;/property&gt;
&lt;/properties&gt;
...
&lt;PatternLayout pattern=&quot;%m%xEx{filters(${filters})}%n&quot;/&gt;</pre></div>
          
<p>The result printed to the console will appear similar to:
          </p>
           
<div>
<pre>Exception java.lang.IllegalArgumentException: IllegalArgument
at org.apache.logging.log4j.core.pattern.ExtendedThrowableTest.testException(ExtendedThrowableTest.java:72) [test-classes/:?]
... suppressed 26 lines
at $Proxy0.invoke(Unknown Source)} [?:?]
... suppressed 3 lines
Caused by: java.lang.NullPointerException: null pointer
at org.apache.logging.log4j.core.pattern.ExtendedThrowableTest.testException(ExtendedThrowableTest.java:71) ~[test-classes/:?]
... 30 more</pre></div>
           </div>
<div class="section">
<h5><a name="ANSI_Styled"></a>ANSI Styled</h5>
          
<p>The log level will be highlighted according to the event's log level. All the content that follows
            the level will be bright green.</p>
          
<div>
<pre class="prettyprint linenums">&lt;PatternLayout&gt;
  &lt;pattern&gt;%d %highlight{%p} %style{%C{1.} [%t] %m}{bold,green}%n&lt;/pattern&gt;
&lt;/PatternLayout&gt;</pre></div>

        </div></div>
<div class="section">
<h4><a name="Pattern_Selectors"></a>Pattern Selectors</h4>
        
<p>
          The PatternLayout can be configured with a PatternSelector to allow it to choose a pattern to use based on
          attributes of the log event or other factors. A PatternSelector will normally be configured with a defaultPattern
          attribute, which is used when other criteria don't match, and a set of PatternMatch elements that identify
          the various patterns that can be selected.
        </p>
          
<div class="section">
<h5><a name="MarkerPatternSelector"></a>MarkerPatternSelector</h5>
          
<p>
            The MarkerPatternSelector selects patterns based on the Marker included in the log event. If the Marker in
            the log event is equal to or is an ancestor of the name specified on the PatternMatch key attribute, then the
            pattern specified on that PatternMatch element will be used.
          </p>
          
<div>
<pre class="prettyprint linenums">&lt;PatternLayout&gt;
  &lt;MarkerPatternSelector defaultPattern=&quot;[%-5level] %c{1.} %msg%n&quot;&gt;
    &lt;PatternMatch key=&quot;FLOW&quot; pattern=&quot;[%-5level] %c{1.} ====== %C{1.}.%M:%L %msg ======%n&quot;/&gt;
  &lt;/MarkerPatternSelector&gt;
&lt;/PatternLayout&gt;</pre></div>
          </div>
<div class="section">
<h5><a name="ScriptPatternSelector"></a>ScriptPatternSelector</h5>
          
<p>
            The ScriptPatternSelector executes a script as descibed in the <a href="../configuration.html#Scripts">Scripts</a> section of the
            Configuration chapter. The script is passed all the properties configured in the Properties section of the
            configuration, the StrSubstitutor used by the Confguration in the &quot;substitutor&quot; vairables, and the
            log event in the &quot;logEvent&quot; variable, and is expected to return the value of the PatternMatch key that
            should be used, or null if the default pattern should be used.
          </p>
          
<div>
<pre class="prettyprint linenums">&lt;PatternLayout&gt;
  &lt;ScriptPatternSelector defaultPattern=&quot;[%-5level] %c{1.} %C{1.}.%M.%L %msg%n&quot;&gt;
    &lt;Script name=&quot;BeanShellSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[
      if (logEvent.getLoggerName().equals(&quot;NoLocation&quot;)) {
        return &quot;NoLocation&quot;;
      } else if (logEvent.getMarker() != null &amp;&amp; logEvent.getMarker().isInstanceOf(&quot;FLOW&quot;)) {
        return &quot;Flow&quot;;
      } else {
        return null;
      }]]&gt;
    &lt;/Script&gt;
    &lt;PatternMatch key=&quot;NoLocation&quot; pattern=&quot;[%-5level] %c{1.} %msg%n&quot;/&gt;
    &lt;PatternMatch key=&quot;Flow&quot; pattern=&quot;[%-5level] %c{1.} ====== %C{1.}.%M:%L %msg ======%n&quot;/&gt;
  &lt;/ScriptPatternSelector&gt;
&lt;/PatternLayout&gt;</pre></div>
      </div></div></div>
        <a name="RFC5424Layout"></a>
        
<div class="section">
<h3><a name="RFC5424_Layout"></a>RFC5424 Layout</h3>
          
<p>As the name implies, the Rfc5424Layout formats LogEvents in accordance with
            <a class="externalLink" href="http://tools.ietf.org/html/rfc5424">RFC 5424</a>, the enhanced Syslog specification. Although the specification
            is primarily directed at sending messages via Syslog, this format is quite useful for
            other purposes since items are passed in the message as self-describing key/value pairs.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">Rfc5424Layout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>appName</td>
              
<td>String</td>
              
<td>The value to use as the APP-NAME in the RFC 5424 syslog record.</td>
            </tr>
            
<tr class="a">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting the syslog String to a byte array. The String must be
                a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>. If not specified, the default system Charset will be used.</td>
            </tr>
            
<tr class="b">
              
<td>enterpriseNumber</td>
              
<td>integer</td>
              
<td>The IANA enterprise number as described in
                <a class="externalLink" href="http://tools.ietf.org/html/rfc5424#section-7.2.2">RFC 5424</a></td>
            </tr>
            
<tr class="a">
              
<td>exceptionPattern</td>
              
<td>String</td>
              
<td>One of the conversion specifiers from PatternLayout that defines which ThrowablePatternConverter
              to use to format exceptions. Any of the options that are valid for those specifiers may be included.
              The default is to not include the Throwable from the event, if any, in the output.</td>
            </tr>
            
<tr class="b">
              
<td>facility</td>
              
<td>String</td>
              
<td>The facility is used to try to classify the message. The facility option must be set to one of
                &quot;KERN&quot;, &quot;USER&quot;, &quot;MAIL&quot;, &quot;DAEMON&quot;, &quot;AUTH&quot;, &quot;SYSLOG&quot;, &quot;LPR&quot;, &quot;NEWS&quot;, &quot;UUCP&quot;, &quot;CRON&quot;, &quot;AUTHPRIV&quot;,
                &quot;FTP&quot;, &quot;NTP&quot;, &quot;AUDIT&quot;, &quot;ALERT&quot;, &quot;CLOCK&quot;, &quot;LOCAL0&quot;, &quot;LOCAL1&quot;, &quot;LOCAL2&quot;, &quot;LOCAL3&quot;, &quot;LOCAL4&quot;, &quot;LOCAL5&quot;,
                &quot;LOCAL6&quot;, or &quot;LOCAL7&quot;. These values may be specified as upper or lower case characters.</td>
            </tr>
            
<tr class="a">
              
<td>format</td>
              
<td>String</td>
              
<td>If set to &quot;RFC5424&quot; the data will be formatted in accordance with RFC 5424. Otherwise, it will
                be formatted as a BSD Syslog record. Note that although BSD Syslog records are required to be
                1024 bytes or shorter the SyslogLayout does not truncate them. The RFC5424Layout also does not
                truncate records since the receiver must accept records of up to 2048 bytes and may accept records
                that are longer.</td>
            </tr>
            
<tr class="b">
              
<td>id</td>
              
<td>String</td>
              
<td>The default structured data id to use when formatting according to RFC 5424. If the LogEvent contains
                a StructuredDataMessage the id from the Message will be used instead of this value.</td>
            </tr>
            
<tr class="a">
              
<td>includeMDC</td>
              
<td>boolean</td>
              
<td>Indicates whether data from the ThreadContextMap will be included in the RFC 5424 Syslog record.
                Defaults to true.</td>
            </tr>
            
<tr class="b">
              
<td>loggerFields</td>
              
<td>List of KeyValuePairs</td>
              
<td>Allows arbitrary PatternLayout patterns to be included as specified ThreadContext fields; no default
                specified. To use, include a &lt;LoggerFields&gt; nested element, containing one or more
                &lt;KeyValuePair&gt; elements. Each &lt;KeyValuePair&gt; must have a key attribute, which
                specifies the key name which will be used to identify the field within the MDC Structured Data element,
                and a value attribute, which specifies the PatternLayout pattern to use as the value.</td>
            </tr>
            
<tr class="a">
              
<td>mdcExcludes</td>
              
<td>String</td>
              
<td>A comma separated list of mdc keys that should be excluded from the LogEvent. This is mutually
                exclusive with the mdcIncludes attribute. This attribute only applies to RFC 5424 syslog records.</td>
            </tr>
            
<tr class="b">
              
<td>mdcIncludes</td>
              
<td>String</td>
              
<td>A comma separated list of mdc keys that should be included in the FlumeEvent. Any keys in the MDC
                not found in the list will be excluded. This option is mutually exclusive with the mdcExcludes
                attribute. This attribute only applies to RFC 5424 syslog records.</td>
            </tr>
            
<tr class="a">
              
<td>mdcRequired</td>
              
<td>String</td>
              
<td>A comma separated list of mdc keys that must be present in the MDC. If a key is not present a
                LoggingException will be thrown. This attribute only applies to RFC 5424 syslog records.</td>
            </tr>
            
<tr class="b">
              
<td>mdcPrefix</td>
              
<td>String</td>
              
<td>A string that should be prepended to each MDC key in order to distinguish it from event attributes.
                The default string is &quot;mdc:&quot;. This attribute only applies to RFC 5424 syslog records.</td>
            </tr>
            
<tr class="a">
              
<td>mdcId</td>
              
<td>String</td>
              
<td>A required MDC ID. This attribute only applies to RFC 5424 syslog records.</td>
            </tr>
            
<tr class="b">
              
<td>messageId</td>
              
<td>String</td>
              
<td>The default value to be used in the MSGID field of RFC 5424 syslog records. </td>
            </tr>
            
<tr class="a">
              
<td>newLine</td>
              
<td>boolean</td>
              
<td>If true, a newline will be appended to the end of the syslog record. The default is false.</td>
            </tr>
            
<tr class="b">
              
<td>newLineEscape</td>
              
<td>String</td>
              
<td>String that should be used to replace newlines within the message text.</td>
            </tr>
            
          </table>
        </div>
        <a name="SerializedLayout"></a>
        
<div class="section">
<h3><a name="Serialized_Layout"></a>Serialized Layout</h3>
          
<p>The SerializedLayout simply serializes the LogEvent into a byte array using Java Serialization.
          The SerializedLayout accepts no parameters.
          </p>
          
<p>
          This layout is deprecated since version 2.9. Java Serialization has inherent security weaknesses,
          using this layout is no longer recommended. An alternative layout containing the same information
          is <a href="#JSONLayout">JsonLayout</a>, configured with <tt>properties=&quot;true&quot;</tt>.
          </p>
        </div>
        <a name="SyslogLayout"></a>
        
<div class="section">
<h3><a name="Syslog_Layout"></a>Syslog Layout</h3>
          
<p>The SyslogLayout formats the LogEvent as BSD Syslog records matching the same format used by
            Log4j 1.2.
          </p>
           
<table border="0" class="bodyTable"><caption align="top">SyslogLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting the syslog String to a byte array. The String must be
                a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>. If not specified, this layout uses UTF-8.</td>
            </tr>
            
<tr class="a">
              
<td>facility</td>
              
<td>String</td>
              
<td>The facility is used to try to classify the message. The facility option must be set to one of
                &quot;KERN&quot;, &quot;USER&quot;, &quot;MAIL&quot;, &quot;DAEMON&quot;, &quot;AUTH&quot;, &quot;SYSLOG&quot;, &quot;LPR&quot;, &quot;NEWS&quot;, &quot;UUCP&quot;, &quot;CRON&quot;, &quot;AUTHPRIV&quot;,
                &quot;FTP&quot;, &quot;NTP&quot;, &quot;AUDIT&quot;, &quot;ALERT&quot;, &quot;CLOCK&quot;, &quot;LOCAL0&quot;, &quot;LOCAL1&quot;, &quot;LOCAL2&quot;, &quot;LOCAL3&quot;, &quot;LOCAL4&quot;, &quot;LOCAL5&quot;,
                &quot;LOCAL6&quot;, or &quot;LOCAL7&quot;. These values may be specified as upper or lower case characters.</td>
            </tr>
            
<tr class="b">
              
<td>newLine</td>
              
<td>boolean</td>
              
<td>If true, a newline will be appended to the end of the syslog record. The default is false.</td>
            </tr>
             
<tr class="a">
               
<td>newLineEscape</td>
               
<td>String</td>
               
<td>String that should be used to replace newlines within the message text.</td>
             </tr>
             
          </table>
        </div>
        <a name="XMLLayout"></a>
        
<div class="section">
<h3><a name="XML_Layout"></a>XML Layout</h3>
          
<p>
            <!-- FIXME: log4j.dtd link is broken -->
          Appends a series of <tt>Event</tt> elements as defined in the <a href="log4j.dtd">log4j.dtd</a>.
          </p>
          
<div class="section">
<h4><a name="Complete_well-formed_XML_vs._fragment_XML"></a>Complete well-formed XML vs. fragment XML</h4>
          
<p>
          If you configure <tt>complete=&quot;true&quot;</tt>, the appender outputs a well-formed XML document where the
          default namespace is the Log4j namespace <tt>&quot;http://logging.apache.org/log4j/2.0/events&quot;</tt>.  By default,
          with <tt>complete=&quot;false&quot;</tt>, you should include the output as an <i>external entity</i> in a
          separate file to form a well-formed XML document, in which case the appender uses
          <tt>namespacePrefix</tt> with a default of <tt>&quot;log4j&quot;</tt>.
          </p>
          
<p>
          A well-formed XML document follows this pattern:
          </p>
          
<div>
<pre class="prettyprint linenums">&lt;Event xmlns=&quot;http://logging.apache.org/log4j/2.0/events&quot;
       timeMillis=&quot;1493122559666&quot;
       level=&quot;INFO&quot;
       loggerName=&quot;HelloWorld&quot;
       endOfBatch=&quot;false&quot;
       thread=&quot;main&quot;
       loggerFqcn=&quot;org.apache.logging.log4j.spi.AbstractLogger&quot;
       threadId=&quot;1&quot;
       threadPriority=&quot;5&quot;&gt;
  &lt;Marker name=&quot;child&quot;&gt;
    &lt;Parents&gt;
      &lt;Marker name=&quot;parent&quot;&gt;
        &lt;Parents&gt;
          &lt;Marker name=&quot;grandparent&quot;/&gt;
        &lt;/Parents&gt;
      &lt;/Marker&gt;
    &lt;/Parents&gt;
  &lt;/Marker&gt;
  &lt;Message&gt;Hello, world!&lt;/Message&gt;
  &lt;ContextMap&gt;
    &lt;item key=&quot;bar&quot; value=&quot;BAR&quot;/&gt;
    &lt;item key=&quot;foo&quot; value=&quot;FOO&quot;/&gt;
  &lt;/ContextMap&gt;
  &lt;ContextStack&gt;
    &lt;ContextStackItem&gt;one&lt;/ContextStackItem&gt;
    &lt;ContextStackItem&gt;two&lt;/ContextStackItem&gt;
  &lt;/ContextStack&gt;
  &lt;Source
      class=&quot;logtest.Main&quot;
      method=&quot;main&quot;
      file=&quot;Main.java&quot;
      line=&quot;29&quot;/&gt;
  &lt;Thrown commonElementCount=&quot;0&quot; message=&quot;error message&quot; name=&quot;java.lang.RuntimeException&quot;&gt;
    &lt;ExtendedStackTrace&gt;
      &lt;ExtendedStackTraceItem
          class=&quot;logtest.Main&quot;
          method=&quot;main&quot;
          file=&quot;Main.java&quot;
          line=&quot;29&quot;
          exact=&quot;true&quot;
          location=&quot;classes/&quot;
          version=&quot;?&quot;/&gt;
    &lt;/ExtendedStackTrace&gt;
  &lt;/Thrown&gt;
&lt;/Event&gt;
</pre></div>
          
<p>
          If <tt>complete=&quot;false&quot;</tt>, the appender does not write the XML processing instruction and the root
          element.
          </p>
          </div>
<div class="section">
<h4><a name="Marker"></a>Marker</h4>
          
<p>Markers are represented by a <tt>Marker</tt> element within the <tt>Event</tt> element.
          The <tt>Marker</tt> element appears only when a marker is used in the log message. The name of the marker's
          parent will be provided in the <tt>parent</tt> attribute of the <tt>Marker</tt> element.
          </p>
          </div>
<div class="section">
<h4><a name="Pretty_vs._compact_XML"></a>Pretty vs. compact XML</h4>
          
<p>
          By default, the XML layout is not compact (a.k.a. not &quot;pretty&quot;) with <tt>compact=&quot;false&quot;</tt>, which
          means the appender uses end-of-line characters and indents lines to format the XML. If
          <tt>compact=&quot;true&quot;</tt>,  then no end-of-line or indentation is used. Message content may contain,
          of course, end-of-lines.
          </p>
          
<table border="0" class="bodyTable"><caption align="top">XmlLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting to a byte array. The value must be a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>.
                 If not specified, UTF-8 will be used.</td>
            </tr>
            
<tr class="a">
              
<td>compact</td>
              
<td>boolean</td>
              
<td>If true, the appender does not use end-of-lines and indentation. Defaults to false.</td>
            </tr>
            
<tr class="b">
              
<td>complete</td>
              
<td>boolean</td>
              
<td>If true, the appender includes the XML header and footer. Defaults to false.</td>
            </tr>
            
<tr class="a">
              
<td>properties</td>
              
<td>boolean</td>
              
<td>If true, the appender includes the thread context map in the generated XML. Defaults to false.</td>
            </tr>
            
<tr class="b">
              
<td>locationInfo</td>
              
<td>boolean</td>
              
<td>
              
<p>If true, the appender includes the location information in the generated XML. Defaults to false.</p>
              
<p>Generating <a href="#LocationInformation">location information</a>
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="a">
              
<td>includeStacktrace</td>
              
<td>boolean</td>
              
<td>If true, include full stacktrace of any logged       <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html">Throwable</a>
   (optional, default to true).</td>
            </tr>
            
<tr class="b">
              
<td>stacktraceAsString</td>
              
<td>boolean</td>
              
<td>Whether to format the stacktrace as a string, and not a nested object (optional, defaults to false).</td>
            </tr>
            
<tr class="a">
              
<td>includeNullDelimiter</td>
              
<td>boolean</td>
              
<td>Whether to include NULL byte as delimiter after each event (optional, default to false).</td>
            </tr>
            
          </table>
          
<p>
            Additional <a href="../runtime-dependencies.html">runtime dependencies</a> are required for using XmlLayout.
          </p>
        </div></div>
        <a name="YamlLayout"></a>
        
<div class="section">
<h3><a name="YAML_Layout"></a>YAML Layout</h3>
          
<p>
            Appends a series of YAML events as strings serialized as bytes.
          </p>
          
<p>
            A YAML log event follows this pattern:
          </p>
          
<div>
<pre class="prettyprint linenums">---
timeMillis: 1493122307075
thread: &quot;main&quot;
level: &quot;INFO&quot;
loggerName: &quot;HelloWorld&quot;
marker:
 name: &quot;child&quot;
 parents:
 - name: &quot;parent&quot;
   parents:
   - name: &quot;grandparent&quot;
message: &quot;Hello, world!&quot;
thrown:
 commonElementCount: 0
 message: &quot;error message&quot;
 name: &quot;java.lang.RuntimeException&quot;
 extendedStackTrace:
 - class: &quot;logtest.Main&quot;
   method: &quot;main&quot;
   file: &quot;Main.java&quot;
   line: 29
   exact: true
   location: &quot;classes/&quot;
   version: &quot;?&quot;
contextStack:
- &quot;one&quot;
- &quot;two&quot;
endOfBatch: false
loggerFqcn: &quot;org.apache.logging.log4j.spi.AbstractLogger&quot;
contextMap:
 bar: &quot;BAR&quot;
 foo: &quot;FOO&quot;
threadId: 1
threadPriority: 5
source:
 class: &quot;logtest.Main&quot;
 method: &quot;main&quot;
 file: &quot;Main.java&quot;
 line: 29
</pre></div>
          
<table border="0" class="bodyTable"><caption align="top">YamlLayout Parameters</caption>
            
<tr class="a">
              
<th>Parameter Name</th>
              
<th>Type</th>
              
<th>Description</th>
            </tr>
            
<tr class="b">
              
<td>charset</td>
              
<td>String</td>
              
<td>The character set to use when converting to a byte array. The value must be a valid <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html">Charset</a>.
                 If not specified, UTF-8 will be used.</td>
            </tr>
            
<tr class="a">
              
<td>properties</td>
              
<td>boolean</td>
              
<td>If true, the appender includes the thread context map in the generated YAML. Defaults to false.</td>
            </tr>
            
<tr class="b">
              
<td>locationInfo</td>
              
<td>boolean</td>
              
<td>
              
<p>If true, the appender includes the location information in the generated YAML. Defaults to false.</p>
              
<p>Generating <a href="#LocationInformation">location information</a>
                is an expensive operation and may impact performance. Use with caution.</p>
              </td>
            </tr>
            
<tr class="a">
              
<td>includeStacktrace</td>
              
<td>boolean</td>
              
<td>If true, include full stacktrace of any logged       <a class="javadoc" href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html">Throwable</a>
   (optional, default to true).</td>
            </tr>
            
<tr class="b">
              
<td>stacktraceAsString</td>
              
<td>boolean</td>
              
<td>Whether to format the stacktrace as a string, and not a nested object (optional, defaults to false).</td>
            </tr>
            
<tr class="a">
              
<td>includeNullDelimiter</td>
              
<td>boolean</td>
              
<td>Whether to include NULL byte as delimiter after each event (optional, default to false).</td>
            </tr>
            
          </table>
          
<p>
            Additional <a href="../runtime-dependencies.html">runtime dependencies</a> are required for using YamlLayout.
          </p>
        </div>
        <a name="LocationInformation"></a>
        
<div class="section">
<h3><a name="Location_Information"></a>Location Information</h3>
        
<p>
			If one of the layouts is
			configured with a location-related attribute like
			HTML <a href="#HtmlLocationInfo">locationInfo</a>,
			or one of the patterns
			<a href="#PatternClass">%C or %class</a>,
			<a href="#PatternFile">%F or %file</a>,
			<a href="#PatternLocation">%l or %location</a>,
			<a href="#PatternLine">%L or %line</a>,
			<a href="#PatternMethod">%M or %method</a>,
			Log4j will take a snapshot of the
			stack, and walk the stack trace to find the location information.
			</p>
			
<p>
			This is an expensive operation: 1.3 - 5 times slower for
			synchronous loggers. Synchronous loggers wait as
			long as possible before they take this stack snapshot. If no
			location is required, the snapshot will never be taken.
			</p>
<p>
              However, asynchronous loggers need to make this decision before passing the
              log message to another thread; the location information will be lost after that point.
              The <a href="../performance.html#asyncLoggingWithLocation">performance impact</a>
              of taking a stack trace snapshot is even higher for asynchronous loggers:
              logging with location is 30-100 times slower than without location.
              For this reason, asynchronous loggers and asynchronous appenders do not include location information by default.
			</p>
<p>
			You can override the default behaviour in your logger
			or asynchronous appender configuration
			by specifying
			<tt>includeLocation=&quot;true&quot;</tt>.
			</p>
			
<p>
			</p>
        </div>
      </div>
    

					</td>
				</tr>
			</table>
		</div>

		<div class="footer">
							<p>Copyright &copy; 1999-2017 <a class="external" href="https://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</p>
				<p>Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.</p>
				<p>Site powered by <a class="external" href="http://getbootstrap.com/">Twitter Bootstrap</a>. Icons from <a class="external" href="http://glyphicons.com/">Glyphicons Free</a>.</p>
			</div>
		</div>
	</body>
</html>
