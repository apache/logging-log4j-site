RewriteEngine On
RewriteBase "/log4j/"
# Latest version
RewriteRule "^$" "2.x/" [R]
# Relocation of changelog
RewriteRule "^changelog-(\d+\.\d+\.\d+)\.xsd$" "/xml/ns/log4j-changelog-$1.xsd" [R=permanent]
# Aliases for 1.x releases
RewriteRule "^1\.2(|/(.*))$" "1.x/$2" [R=permanent]
RewriteRule "^log4j-1\.2\.17(|/(.*))$" "1.x/$2" [R=permanent]
# Aliases for releases up to 2.3.x
RewriteRule "^log4j-2\.0-alpha.(|/(.*))$" "2.3.x/$2" [R=permanent]
RewriteRule "^log4j-2\.0-beta.(|/(.*))$" "2.3.x/$2" [R=permanent]
RewriteRule "^log4j-2\.[0-3](\.\d)?(|/(.*))$" "2.3.x/$3" [R=permanent]
# Aliases for releases up to 2.12.x
RewriteRule "^log4j-2\.([4-9]|1[0-2])(\.\d)?(|/(.*))$" "2.12.x/$4" [R=permanent]
# Aliases for 2.x releases
RewriteRule "^2\.0(|/(.*))$" "2.x/$2" [R=permanent]
RewriteRule "^2\.13\.[0-3](|/(.*))$" "2.x/$2" [R=permanent]
RewriteRule "^log4j-2\.\d+(\.\d)?(|/(.*))$" "2.x/$3" [R=permanent]
# Aliases for 3.x releases
RewriteRule "^log4j-3.0.0-(alpha|beta)\d(|/(.*))$" "3.x/$3" [R=permanent]
# Aliases for Apache Log4j Extras releases
RewriteRule "^extras-1\.2\.17(|/(.*))$" "extras/$2" [R=permanent]
