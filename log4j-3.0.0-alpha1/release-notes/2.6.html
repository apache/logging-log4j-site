<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from target/generated-sources/site/asciidoc/release-notes/2.6.adoc at 2023-06-17
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Log4j &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="http://logging.apache.org" id="bannerLeft"><img src="../images/ls-logo.jpg"  alt=""/></a></div>
          <div class="pull-right"><a href="http://logging.apache.org/log4j/3.x" id="bannerRight"><img src="../images/logo.png"  alt=""/></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-06-17<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 3.0.0-alpha1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/apache/logging-log4j2" class="externalLink" title="GitHub">GitHub</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://analysis.apache.org/dashboard/index/org.apache.logging.log4j:log4j" class="externalLink" title="Sonar">Sonar</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="../../../" title="Logging Services">Logging Services</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
      <li class="pull-right"><a href="https://cwiki.apache.org/confluence/display/LOGGING/Log4j" class="externalLink" title="Logging Wiki">Logging Wiki</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/home.png" alt="Apache Log4j™ 3.x" border="0"/> Apache Log4j™ 3.x</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="../javadoc.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../maven-artifacts.html" title="Maven, Ivy, Gradle Artifacts"><span class="icon-chevron-right"></span>Maven, Ivy, Gradle Artifacts</a></li>
    <li><a href="../runtime-dependencies.html" title="Runtime Dependencies"><span class="none"></span>Runtime Dependencies</a></li>
    <li><a href="../release-notes/index.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="../performance.html" title="Performance"><span class="icon-chevron-right"></span>Performance</a></li>
    <li><a href="../articles.html" title="Articles and Tutorials"><span class="none"></span>Articles and Tutorials</a></li>
    <li><a href="../security.html" title="Security"><span class="none"></span>Security</a></li>
    <li><a href="../support.html" title="Support"><span class="none"></span>Support</a></li>
    <li><a href="../thanks.html" title="Thanks"><span class="none"></span>Thanks</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/pencil.png" alt="For Contributors" border="0"/> For Contributors</li>
    <li><a href="../guidelines.html" title="Guidelines"><span class="none"></span>Guidelines</a></li>
    <li><a href="../javastyle.html" title="Style Guide"><span class="none"></span>Style Guide</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/book.png" alt="Manual" border="0"/> Manual</li>
    <li><a href="../manual/index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../manual/architecture.html" title="Architecture"><span class="none"></span>Architecture</a></li>
    <li><a href="../manual/compatibility.html" title="Log4j 1.x Compatibility"><span class="none"></span>Log4j 1.x Compatibility</a></li>
    <li><a href="../manual/migration.html" title="Log4j 1.x Migration"><span class="none"></span>Log4j 1.x Migration</a></li>
    <li><a href="../manual/api.html" title="Java API"><span class="icon-chevron-right"></span>Java API</a></li>
    <li><a href="../manual/scala-api.html" title="Scala API"><span class="none"></span>Scala API</a></li>
    <li><a href="../manual/configuration.html" title="Configuration"><span class="icon-chevron-right"></span>Configuration</a></li>
    <li><a href="../manual/usage.html" title="Usage"><span class="icon-chevron-right"></span>Usage</a></li>
    <li><a href="../manual/webapp.html" title="Web Applications and JSPs"><span class="icon-chevron-right"></span>Web Applications and JSPs</a></li>
    <li><a href="../manual/lookups.html" title="Lookups"><span class="icon-chevron-right"></span>Lookups</a></li>
    <li><a href="../manual/appenders.html" title="Appenders"><span class="icon-chevron-right"></span>Appenders</a></li>
    <li><a href="../manual/layouts.html" title="Layouts"><span class="icon-chevron-right"></span>Layouts</a></li>
    <li><a href="../manual/filters.html" title="Filters"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../manual/async.html" title="Async Loggers"><span class="icon-chevron-right"></span>Async Loggers</a></li>
    <li><a href="../manual/garbagefree.html" title="Garbage-free Logging"><span class="icon-chevron-right"></span>Garbage-free Logging</a></li>
    <li><a href="../manual/jmx.html" title="JMX"><span class="none"></span>JMX</a></li>
    <li><a href="../manual/logsep.html" title="Logging Separation"><span class="none"></span>Logging Separation</a></li>
    <li><a href="../manual/extending.html" title="Extending Log4j"><span class="icon-chevron-right"></span>Extending Log4j</a></li>
    <li><a href="../manual/plugins.html" title="Plugins"><span class="icon-chevron-right"></span>Plugins</a></li>
    <li><a href="../manual/customconfig.html" title="Programmatic Log4j Configuration"><span class="icon-chevron-right"></span>Programmatic Log4j Configuration</a></li>
    <li><a href="../manual/customloglevels.html" title="Custom Log Levels"><span class="icon-chevron-right"></span>Custom Log Levels</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/tag.png" alt="Related Projects" border="0"/> Related Projects</li>
    <li><a href="http://logging.apache.org/log4j/scala/index.html" class="externalLink" title="Log4j-Scala"><span class="none"></span>Log4j-Scala</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/link.png" alt="Older Releases" border="0"/> Older Releases</li>
    <li><a href="http://logging.apache.org/log4j/1.2/" class="externalLink" title="Log4j 1.2 - End of Life"><span class="none"></span>Log4j 1.2 - End of Life</a></li>
    <li><a href="http://logging.apache.org/log4j/log4j-2.3/" class="externalLink" title="Log4j 2.3 - Java 6"><span class="none"></span>Log4j 2.3 - Java 6</a></li>
    <li><a href="http://logging.apache.org/log4j/log4j-2.12.1/" class="externalLink" title="Log4j 2.12.1 - Java 7"><span class="none"></span>Log4j 2.12.1 - Java 7</a></li>
    <li><a href="http://logging.apache.org/log4j/2.x/" class="externalLink" title="Log4j 2.x - Latest release for Java 8"><span class="none"></span>Log4j 2.x - Latest release for Java 8</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/cog.png" alt="Components" border="0"/> Components</li>
    <li><a href="../log4j-api.html" title="API"><span class="none"></span>API</a></li>
    <li><a href="../log4j-core.html" title="Implementation"><span class="none"></span>Implementation</a></li>
    <li><a href="../log4j-jcl.html" title="Commons Logging Bridge"><span class="none"></span>Commons Logging Bridge</a></li>
    <li><a href="../log4j-1.2-api.html" title="Log4j 1.2 API"><span class="none"></span>Log4j 1.2 API</a></li>
    <li><a href="../log4j-slf4j-impl.html" title="SLF4J Binding"><span class="none"></span>SLF4J Binding</a></li>
    <li><a href="../log4j-jul.html" title="JUL Adapter"><span class="none"></span>JUL Adapter</a></li>
    <li><a href="../log4j-jpl.html" title="JDK Platform Logger"><span class="none"></span>JDK Platform Logger</a></li>
    <li><a href="../log4j-to-slf4j.html" title="Log4j 2 to SLF4J Adapter"><span class="none"></span>Log4j 2 to SLF4J Adapter</a></li>
    <li><a href="../log4j-jdbc-dbcp2.html" title="JDBC Appender"><span class="none"></span>JDBC Appender</a></li>
    <li><a href="../log4j-jeromq.html" title="ZeroMQ Appender"><span class="none"></span>ZeroMQ Appender</a></li>
    <li><a href="../log4j-flume-ng.html" title="Apache Flume Appender"><span class="none"></span>Apache Flume Appender</a></li>
    <li><a href="../log4j-jms.html" title="JMS Appender"><span class="none"></span>JMS Appender</a></li>
    <li><a href="../log4j-taglib.html" title="Tag Library"><span class="none"></span>Tag Library</a></li>
    <li><a href="../log4j-jmx-gui.html" title="JMX GUI"><span class="none"></span>JMX GUI</a></li>
    <li><a href="../log4j-web.html" title="Web Application Support"><span class="none"></span>Web Application Support</a></li>
    <li><a href="../log4j-jakarta-web.html" title="Jakarta Web Application Support"><span class="none"></span>Jakarta Web Application Support</a></li>
    <li><a href="../log4j-appserver.html" title="Application Server Integration"><span class="none"></span>Application Server Integration</a></li>
    <li><a href="../log4j-couchdb.html" title="CouchDB appender"><span class="none"></span>CouchDB appender</a></li>
    <li><a href="../log4j-mongodb3.html" title="MongoDB3 appender"><span class="none"></span>MongoDB3 appender</a></li>
    <li><a href="../log4j-mongodb4.html" title="MongoDB4 appender"><span class="none"></span>MongoDB4 appender</a></li>
    <li><a href="../log4j-cassandra.html" title="Cassandra appender"><span class="none"></span>Cassandra appender</a></li>
    <li><a href="../log4j-iostreams.html" title="IO Streams"><span class="none"></span>IO Streams</a></li>
    <li><a href="../log4j-liquibase.html" title="Liquibase Binding"><span class="none"></span>Liquibase Binding</a></li>
    <li><a href="../log4j-docker.html" title="Docker Support"><span class="none"></span>Docker Support</a></li>
    <li><a href="../log4j-kubernetes.html" title="Kubernetes Support"><span class="none"></span>Kubernetes Support</a></li>
    <li><a href="../log4j-spring-boot.html" title="Log4j Spring Boot"><span class="none"></span>Log4j Spring Boot</a></li>
    <li><a href="../log4j-spring-cloud-config-client.html" title="Spring Cloud Config Client"><span class="none"></span>Spring Cloud Config Client</a></li>
    <li><a href="../log4j-transform" title="Log4j Transformation Tools"><span class="none"></span>Log4j Transformation Tools</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/info.png" alt="Project Information" border="0"/> Project Information</li>
    <li><a href="../team.html" title="Project Team"><span class="none"></span>Project Team</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="Project License"><span class="none"></span>Project License</a></li>
    <li><a href="https://github.com/apache/logging-log4j2/tree/main" class="externalLink" title="Source Repository"><span class="none"></span>Source Repository</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/layers.png" alt="Project Reports" border="0"/> Project Reports</li>
    <li><a href="../rat-report.html" title="RAT Report"><span class="none"></span>RAT Report</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>2.6 (2016-05-25)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This is the tenth GA release.
It contains several bugfixes and new features.
The new features include the ability to be <em>garbage-free</em> (avoid allocating temporary objects) while logging if certain conditions are met, a new YAML Layout, the ability to merge configuration files, and documenting Log4j&#8217;s performance against other logging frameworks and in various logging configurations.
More details on the features and bugfixes are itemized below.</p>
</div>
<div class="paragraph">
<p>Note that subsequent to the release a minor source incompatibility was found due to the addition of new methods to the <code>Logger</code> interface.
If you have code that does:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error(null, “This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or similar with any log level you will get a compiler error saying the reference is ambiguous.
To correct this either do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error(“This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error((Marker) null, “This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Log4j 2.6 maintains binary compatibility with previous releases.</p>
</div>
<div class="paragraph">
<p>Log4j 2.6 requires a minimum of Java 7 to build and run.
Log4j 2.3 was the last release that supported Java 6.</p>
</div>
<div class="paragraph">
<p>Basic compatibility with Log4j 1.x is provided through the <code>log4j-1.2-api</code> component, however it does
not implement some of the very implementation specific classes and methods.
The package names and Maven <code>groupId</code> have been changed to <code>org.apache.logging.log4j</code> to avoid any conflicts with Log4j 1.x.</p>
</div>
<div class="paragraph">
<p>For complete information on Apache Log4j 2, including instructions on how to submit bug reports, patches, or suggestions for improvement, see <a href="http://logging.apache.org/log4j/2.x/">the Apache Log4j 2 website</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes">Changes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="added">Added</h3>
<div class="ulist">
<ul>
<li>
<p>Document dependencies for layouts. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1011">LOG4J2-1011</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Added option to discard events below a certain log level if the async logger ring buffer or async appender queue is full. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1080">LOG4J2-1080</a> by Remko Popma)</p>
</li>
<li>
<p>Add JNDI lookup documentation. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1133">LOG4J2-1133</a> by Matt Sicker)</p>
</li>
<li>
<p>PatternLayout: Possible variable substitution in equals substitution parameter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1169">LOG4J2-1169</a> by Matt Sicker, Gerald Kritzinger)</p>
</li>
<li>
<p>Documented benchmark results comparing Log4j 2 performance to other logging libraries. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1179">LOG4J2-1179</a> by Remko Popma)</p>
</li>
<li>
<p>Dynamic Subject for SMTP Appender. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1192">LOG4J2-1192</a> by Gary Gregory, Jörg Bretschneider)</p>
</li>
<li>
<p>PatternLayout option to limit length of text. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1217">LOG4J2-1217</a> by Matt Sicker, Thies Wellpott)</p>
</li>
<li>
<p>Added async logger Timeout wait strategy and made this the default wait strategy for async loggers. This prevents a rare deadlock that may occur on Solaris. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1221">LOG4J2-1221</a> by Remko Popma, Michael Barker)</p>
</li>
<li>
<p>Make PatternLayout header and footer accept a pattern. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1237">LOG4J2-1237</a> by Gary Gregory, Mike Calmus)</p>
</li>
<li>
<p>Make header and footer values customizable in JSONLayout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1244">LOG4J2-1244</a> by Gary Gregory, Remko Popma, Anshu Garg)</p>
</li>
<li>
<p>Make CSV Layout header and footers accept patterns. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1245">LOG4J2-1245</a> by Gary Gregory)</p>
</li>
<li>
<p>Add shutdown methods to LogManager. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-124">LOG4J2-124</a> by Ralph Goers)</p>
</li>
<li>
<p>JeroMqAppender should support layouts. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1252">LOG4J2-1252</a> by Matt Sicker)</p>
</li>
<li>
<p>(GC) Added support for garbage-free logging in steady state. This includes Async Loggers and logging synchronously to the console and to a file, but does not include the AsyncAppender. This release makes the GelfLayout and the main patterns in the PatternLayout garbage-free. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1270">LOG4J2-1270</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Add MessageFactory that avoid allocation by reusing a cached ParameterizedMessage instance. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1271">LOG4J2-1271</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Add encode(LogEvent, ByteBufferDestination) method to Layout API to enable converting LogEvents to bytes without creating temporary objects. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1274">LOG4J2-1274</a> by Remko Popma)</p>
</li>
<li>
<p>FormattedMessage, MessageFormatMessage and StringFormattedMessage should support passing in a Locale to ensure appropriate formatting. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1277">LOG4J2-1277</a> by Gary Gregory, Ludovic Hochet)</p>
</li>
<li>
<p>(GC) Added unrolled varargs methods to Logger API, added Unbox utility to avoid auto-boxing when logging primitive values. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1278">LOG4J2-1278</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Add interface StringBuilderFormattable to enable converting Messages and parameters to text without allocating temporary objects. ParameterizedMessage, ObjectMessage, SimpleMessage and ThreadDumpMessage now implement StringBuilderFormattable. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1293">LOG4J2-1293</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Added manual page on garbage-free logging. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1297">LOG4J2-1297</a> by Remko Popma)</p>
</li>
<li>
<p>Add pattern converter for thread id and priority in PatternLayout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1299">LOG4J2-1299</a> by Gary Gregory)</p>
</li>
<li>
<p>Add documentation links to runtime dependencies in each component intro page. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1303">LOG4J2-1303</a> by Matt Sicker)</p>
</li>
<li>
<p>(GC) Added methods to the Logger interface for logging CharSequence messages. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1326">LOG4J2-1326</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) FileAppender, RollingFileAppender and MemoryMappedFileAppender are now also garbage-free by default. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1344">LOG4J2-1344</a> by Remko Popma)</p>
</li>
<li>
<p>Add an AutoCloseable ThreadContext class: CloseableThreadContext. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1348">LOG4J2-1348</a> by Gary Gregory, Greg Thomas)</p>
</li>
<li>
<p>Option to not log stack traces for logged Throwables in GelfLayout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1357">LOG4J2-1357</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Added a YAML layout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1362">LOG4J2-1362</a> by Remko Popma, Gary Gregory)</p>
</li>
<li>
<p>(GC) Update Logger wrapper Generator tool to generate methods for the new Logger methods. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1373">LOG4J2-1373</a> by Remko Popma)</p>
</li>
<li>
<p>Support merging configurations to for a composite configuration. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-494">LOG4J2-494</a> by Ralph Goers, Philipp Knobel)</p>
</li>
<li>
<p>Pattern to drop first N package parts. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-621">LOG4J2-621</a> by Gary Gregory, Lee Theobald, Kamal Mettananda)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changed">Changed</h3>
<div class="ulist">
<ul>
<li>
<p>org.apache.logging.log4j.core.LoggerContext#updateLoggers should call firePropertyChangeEvent. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1206">LOG4J2-1206</a> by Matt Sicker)</p>
</li>
<li>
<p>Update SLF4J from 1.7.12 to 1.7.13. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1219">LOG4J2-1219</a> by Gary Gregory)</p>
</li>
<li>
<p>Misleading Value In Properties Example. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1233">LOG4J2-1233</a> by Gary Gregory, Bahri Gencsoy)</p>
</li>
<li>
<p>Update Jackson from 2.6.3 to 2.6.4. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1239">LOG4J2-1239</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Liquibase from 3.3.5 to 3.4.2. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1240">LOG4J2-1240</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Jackson from 2.6.4 to 2.7.0. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1249">LOG4J2-1249</a> by Gary Gregory)</p>
</li>
<li>
<p>Update LMAX Disruptor from 3.3.2 to 3.3.4. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1253">LOG4J2-1253</a> by Gary Gregory)</p>
</li>
<li>
<p>Add enhanced entry and exit methods. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1255">LOG4J2-1255</a> by Ralph Goers)</p>
</li>
<li>
<p>(GC) ParameterizedMessage optimizations to avoid or at least postpone allocating temporary objects. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1271">LOG4J2-1271</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Improve LoggerConfig&#8217;s data structure for AppenderControl objects to avoid allocating temporary objects during traversal for each log event. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1272">LOG4J2-1272</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Provide ThreadLocal-based gc-free caching mechanism in DatePatternConverter for non-webapps. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1283">LOG4J2-1283</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Update PatternLayout to utilize gc-free mechanism for LogEvent processing. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1291">LOG4J2-1291</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Update RandomAccessFileAppender and RollingRandomAccessFileAppender to utilize gc-free Layout.encode() method. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1292">LOG4J2-1292</a> by Remko Popma)</p>
</li>
<li>
<p>Update Kafka client from 0.9.0.0 to 0.9.0.1. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1294">LOG4J2-1294</a> by Gary Gregory)</p>
</li>
<li>
<p>Remove serializability from classes that don&#8217;t need it. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1300">LOG4J2-1300</a> by Matt Sicker)</p>
</li>
<li>
<p>Update Jackson from 2.7.0 to 2.7.2. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1304">LOG4J2-1304</a> by Gary Gregory)</p>
</li>
<li>
<p>JeroMqAppender should use ShutdownCallbackRegistry instead of runtime hooks. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1306">LOG4J2-1306</a> by Matt Sicker)</p>
</li>
<li>
<p>Remove need to pre-specify appender et al. identifiers in property file config format. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1308">LOG4J2-1308</a> by Matt Sicker)</p>
</li>
<li>
<p>(GC) Avoid allocating unnecessary temporary objects in LoggerContext&#8217;s getLogger methods. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1318">LOG4J2-1318</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating unnecessary temporary objects in PatternLayout&#8217;s NamePatternConverter and ClassNamePatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1321">LOG4J2-1321</a> by Remko Popma)</p>
</li>
<li>
<p>Update Log4j 1.x migration guide to include information about system property lookup syntax changes. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1322">LOG4J2-1322</a> by Matt Sicker)</p>
</li>
<li>
<p>(GC) Avoid allocating unnecessary temporary objects in MarkerManager&#8217;s getMarker methods. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1333">LOG4J2-1333</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) ConsoleAppender is now garbage-free by default. This logic is reusable for all AbstractOutputStreamAppender subclasses. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1343">LOG4J2-1343</a> by Remko Popma)</p>
</li>
<li>
<p>(Doc) Clarify documentation for properties that control Log4j behaviour. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1345">LOG4J2-1345</a> by Remko Popma)</p>
</li>
<li>
<p>Update Jackson from 2.7.2 to 2.7.3. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1351">LOG4J2-1351</a> by Gary Gregory)</p>
</li>
<li>
<p>Update javax.mail from 1.5.4 to 1.5.5. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1352">LOG4J2-1352</a> by Gary Gregory)</p>
</li>
<li>
<p>(GC) GelfLayout does now support garbage-free logging (with compressionType=OFF). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1356">LOG4J2-1356</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Update Apache Commons Compress from 1.10 to 1.11. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1358">LOG4J2-1358</a> by Gary Gregory)</p>
</li>
<li>
<p>(Log4j-internal) Provide message text as CharSequence for some message types to optimize some layouts. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1365">LOG4J2-1365</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Migrate tests from Logback 1.1.3 to 1.1.7. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1374">LOG4J2-1374</a> by Remko Popma)</p>
</li>
<li>
<p>Update SLF4J from 1.7.13 to 1.7.21. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1375">LOG4J2-1375</a> by Remko Popma)</p>
</li>
<li>
<p>Update Jackson from 2.7.3 to 2.7.4. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1380">LOG4J2-1380</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Apache Commons CSV from 1.2 to 1.3. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1384">LOG4J2-1384</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Google java-allocation-instrumenter from 3.0 to 3.0.1. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1388">LOG4J2-1388</a> by Remko Popma)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed">Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>Add a Log4jLookup class to help write log files relative to log4j2.xml. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1050">LOG4J2-1050</a> by Matt Sicker, Adam Retter)</p>
</li>
<li>
<p>Fix documentation to specify the correct default wait strategy used by async loggers. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1212">LOG4J2-1212</a> by Remko Popma)</p>
</li>
<li>
<p>Documentation/XSD inconsistencies. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1215">LOG4J2-1215</a> by Gary Gregory, Erik Kemperman)</p>
</li>
<li>
<p>Creation of a LoggerContext will fail if shutdown is in progress. LogManager will default to SimpleLogger instead. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1222">LOG4J2-1222</a> by Ralph Goers)</p>
</li>
<li>
<p>NullPointerException in MapLookup.lookup if the event is null. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1227">LOG4J2-1227</a> by Matt Sicker, Olivier Lemasle)</p>
</li>
<li>
<p>Don&#8217;t concatenate SYSLOG Messages. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1230">LOG4J2-1230</a> by Gary Gregory, Ralph Goers, Vladimir Hudec)</p>
</li>
<li>
<p>Incorrect log rotation in last week of year. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1232">LOG4J2-1232</a> by Gary Gregory, Nikolai)</p>
</li>
<li>
<p>org.apache.logging.log4j.core.net.TcpSocketManager and other classes does not report internal exceptions to the status logger. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1238">LOG4J2-1238</a> by Gary Gregory)</p>
</li>
<li>
<p>Fixed broken nanotime in pattern layout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1248">LOG4J2-1248</a> by Remko Popma)</p>
</li>
<li>
<p>Fix JUL bridge issue where LogRecord.getParameters() is used when null. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1251">LOG4J2-1251</a> by Matt Sicker, Romain Manni-Bucau)</p>
</li>
<li>
<p>Fix typo in Flow Tracing documentation. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1254">LOG4J2-1254</a> by Remko Popma, Josh Trow)</p>
</li>
<li>
<p>Async DynamicThresholdFilter does not use the log event&#8217;s context map. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1258">LOG4J2-1258</a> by Gary Gregory, Francis Lalonde)</p>
</li>
<li>
<p>TlsSyslogFrame calculates message length incorrectly. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1260">LOG4J2-1260</a> by Gary Gregory, Blake Day)</p>
</li>
<li>
<p>Stop throwing unnecessary exception in Log4jServletContextListener.contextDestroyed(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1262">LOG4J2-1262</a> by Matt Sicker)</p>
</li>
<li>
<p>The ConfigurationSource was not saved for BuiltConfigurations so monitor interval had no effect. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1263">LOG4J2-1263</a> by Ralph Goers)</p>
</li>
<li>
<p>FixedDateFormat was incorrect for formats having MMM with the French locale. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1268">LOG4J2-1268</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) AsyncLogger should use thread-local translator by default. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1269">LOG4J2-1269</a> by Remko Popma)</p>
</li>
<li>
<p>Fix RollingAppenderNoUnconditionalDeleteTest repeat test runs from failing. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1275">LOG4J2-1275</a> by Matt Sicker, Ludovic Hochet)</p>
</li>
<li>
<p>LoggerMessageSupplierTest and LoggerSupplierTest are Locale sensitive. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1276">LOG4J2-1276</a> by Gary Gregory, Ludovic Hochet)</p>
</li>
<li>
<p>Deprecate org.apache.logging.log4j.util.MessageSupplier. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1280">LOG4J2-1280</a> by Gary Gregory)</p>
</li>
<li>
<p>Logger methods taking Supplier parameters now correctly handle cases where the supplied value is a Message. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1280">LOG4J2-1280</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) LoggerConfig.getProperties() should not allocate on each call. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1281">LOG4J2-1281</a> by Remko Popma)</p>
</li>
<li>
<p>Made default MessageFactory configurable. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1284">LOG4J2-1284</a> by Remko Popma)</p>
</li>
<li>
<p>Change flow logging text from "entry' to "Enter" and "exit" to "Exit". (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1289">LOG4J2-1289</a> by Gary Gregory)</p>
</li>
<li>
<p>Configuration file error does not show cause exception. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1309">LOG4J2-1309</a> by Gary Gregory)</p>
</li>
<li>
<p>JndiLookup mindlessly casts to String and should use String.valueOf(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1310">LOG4J2-1310</a> by Matt Sicker)</p>
</li>
<li>
<p>Improve error handling in the Async Logger background thread: the new default exception handler no longer rethrows the error. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1324">LOG4J2-1324</a> by Remko Popma)</p>
</li>
<li>
<p>Fix NoClassDefFoundError in ReflectionUtil on Google App Engine. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1330">LOG4J2-1330</a> by Matt Sicker)</p>
</li>
<li>
<p>LoggerFactory in 1.2 API module is not compatible with 1.2. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1336">LOG4J2-1336</a> by Gary Gregory, Zbynek Vyskovsky)</p>
</li>
<li>
<p>(Perf) AsyncLogger performance optimization: avoid calling instanceof TimestampMessage in hot path. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1339">LOG4J2-1339</a> by Remko Popma)</p>
</li>
<li>
<p>Exception from Log4jServletContextListener prevents jetty-maven-plugin run-forked. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1346">LOG4J2-1346</a> by Gary Gregory)</p>
</li>
<li>
<p>No configuration reload is triggered under Windows when replacing the configuration file with one that has older last modified date. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1354">LOG4J2-1354</a> by Gary Gregory, Arkadiusz Adolph)</p>
</li>
<li>
<p>Properties Configuration did not support includeLocation attribute on Loggers. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1363">LOG4J2-1363</a> by Ralph Goers)</p>
</li>
<li>
<p>(Log4j-internal) StatusLogger dropped exceptions when logging parameterized messages. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1368">LOG4J2-1368</a> by Remko Popma)</p>
</li>
<li>
<p>"xz" compression results in plaintext, uncompressed files. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1369">LOG4J2-1369</a> by Gary Gregory, Alex Birch)</p>
</li>
<li>
<p>XMLLayout indents, but not the first child tag (Event). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1372">LOG4J2-1372</a> by Ralph Goers, Kamal Mettananda)</p>
</li>
<li>
<p>Copying a MutableLogEvent using Log4jLogEvent.Builder should not unnecessarily obtain caller location information. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1382">LOG4J2-1382</a> by Remko Popma)</p>
</li>
<li>
<p>Fixed memory leak related to shutdown hook. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1387">LOG4J2-1387</a> by Remko Popma)</p>
</li>
<li>
<p>Log4jWebInitializerImpl: Use Thread instead of Class for fallback classloader. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-248">LOG4J2-248</a> by Matt Sicker)</p>
</li>
<li>
<p>Generate MDC properties as a JSON map in JSONLayout, with option to output as list of map entries. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-623">LOG4J2-623</a> by Remko Popma)</p>
</li>
<li>
<p>JSONLayout doesn&#8217;t add a comma between log events. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-908">LOG4J2-908</a> by Gary Gregory, Konstantinos Liakos, Patrick Flaherty, Robin Coe)</p>
</li>
<li>
<p>ClassNotFoundException for BundleContextSelector when initialising in an OSGi environment. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-920">LOG4J2-920</a> by Matt Sicker, Ludovic Hochet)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<p align="center">Copyright &copy; 1999-2023 <a class="external" href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.<br>
      Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
