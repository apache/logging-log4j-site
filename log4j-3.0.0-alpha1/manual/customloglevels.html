<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from target/generated-sources/site/asciidoc/manual/customloglevels.adoc at 2023-06-17
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Log4j &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="http://logging.apache.org" id="bannerLeft"><img src="../images/ls-logo.jpg"  alt=""/></a></div>
          <div class="pull-right"><a href="http://logging.apache.org/log4j/3.x" id="bannerRight"><img src="../images/logo.png"  alt=""/></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-06-17<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 3.0.0-alpha1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/apache/logging-log4j2" class="externalLink" title="GitHub">GitHub</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://analysis.apache.org/dashboard/index/org.apache.logging.log4j:log4j" class="externalLink" title="Sonar">Sonar</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="../../../" title="Logging Services">Logging Services</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
      <li class="pull-right"><a href="https://cwiki.apache.org/confluence/display/LOGGING/Log4j" class="externalLink" title="Logging Wiki">Logging Wiki</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/home.png" alt="Apache Log4j™ 3.x" border="0"/> Apache Log4j™ 3.x</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="../javadoc.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../maven-artifacts.html" title="Maven, Ivy, Gradle Artifacts"><span class="icon-chevron-right"></span>Maven, Ivy, Gradle Artifacts</a></li>
    <li><a href="../runtime-dependencies.html" title="Runtime Dependencies"><span class="none"></span>Runtime Dependencies</a></li>
    <li><a href="../release-notes/index.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="../performance.html" title="Performance"><span class="icon-chevron-right"></span>Performance</a></li>
    <li><a href="../articles.html" title="Articles and Tutorials"><span class="none"></span>Articles and Tutorials</a></li>
    <li><a href="../security.html" title="Security"><span class="none"></span>Security</a></li>
    <li><a href="../support.html" title="Support"><span class="none"></span>Support</a></li>
    <li><a href="../thanks.html" title="Thanks"><span class="none"></span>Thanks</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/pencil.png" alt="For Contributors" border="0"/> For Contributors</li>
    <li><a href="../guidelines.html" title="Guidelines"><span class="none"></span>Guidelines</a></li>
    <li><a href="../javastyle.html" title="Style Guide"><span class="none"></span>Style Guide</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/book.png" alt="Manual" border="0"/> Manual</li>
    <li><a href="../manual/index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../manual/architecture.html" title="Architecture"><span class="none"></span>Architecture</a></li>
    <li><a href="../manual/compatibility.html" title="Log4j 1.x Compatibility"><span class="none"></span>Log4j 1.x Compatibility</a></li>
    <li><a href="../manual/migration.html" title="Log4j 1.x Migration"><span class="none"></span>Log4j 1.x Migration</a></li>
    <li><a href="../manual/api.html" title="Java API"><span class="icon-chevron-right"></span>Java API</a></li>
    <li><a href="../manual/scala-api.html" title="Scala API"><span class="none"></span>Scala API</a></li>
    <li><a href="../manual/configuration.html" title="Configuration"><span class="icon-chevron-right"></span>Configuration</a></li>
    <li><a href="../manual/usage.html" title="Usage"><span class="icon-chevron-right"></span>Usage</a></li>
    <li><a href="../manual/webapp.html" title="Web Applications and JSPs"><span class="icon-chevron-right"></span>Web Applications and JSPs</a></li>
    <li><a href="../manual/lookups.html" title="Lookups"><span class="icon-chevron-right"></span>Lookups</a></li>
    <li><a href="../manual/appenders.html" title="Appenders"><span class="icon-chevron-right"></span>Appenders</a></li>
    <li><a href="../manual/layouts.html" title="Layouts"><span class="icon-chevron-right"></span>Layouts</a></li>
    <li><a href="../manual/filters.html" title="Filters"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../manual/async.html" title="Async Loggers"><span class="icon-chevron-right"></span>Async Loggers</a></li>
    <li><a href="../manual/garbagefree.html" title="Garbage-free Logging"><span class="icon-chevron-right"></span>Garbage-free Logging</a></li>
    <li><a href="../manual/jmx.html" title="JMX"><span class="none"></span>JMX</a></li>
    <li><a href="../manual/logsep.html" title="Logging Separation"><span class="none"></span>Logging Separation</a></li>
    <li><a href="../manual/extending.html" title="Extending Log4j"><span class="icon-chevron-right"></span>Extending Log4j</a></li>
    <li><a href="../manual/plugins.html" title="Plugins"><span class="icon-chevron-right"></span>Plugins</a></li>
    <li><a href="../manual/customconfig.html" title="Programmatic Log4j Configuration"><span class="icon-chevron-right"></span>Programmatic Log4j Configuration</a></li>
    <li class="active"><a href="#"><span class="icon-chevron-down"></span>Custom Log Levels</a>
     <ul class="nav nav-list">
      <li><a href="../manual/customloglevels.html#DefiningLevelsInCode" title="In Code"><span class="none"></span>In Code</a></li>
      <li><a href="../manual/customloglevels.html#DefiningLevelsInConfiguration" title="In Configuration"><span class="none"></span>In Configuration</a></li>
      <li><a href="../manual/customloglevels.html#AddingOrReplacingLevels" title="Adding or Replacing Levels"><span class="none"></span>Adding or Replacing Levels</a></li>
      <li><a href="../manual/customloglevels.html#CustomLoggers" title="Custom Loggers"><span class="none"></span>Custom Loggers</a></li>
      <li><a href="../manual/customloglevels.html#ExampleUsage" title="Custom Logger Example"><span class="none"></span>Custom Logger Example</a></li>
      <li><a href="../manual/customloglevels.html#CodeGen" title="Code Generation Tool"><span class="none"></span>Code Generation Tool</a></li>
     </ul></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/tag.png" alt="Related Projects" border="0"/> Related Projects</li>
    <li><a href="http://logging.apache.org/log4j/scala/index.html" class="externalLink" title="Log4j-Scala"><span class="none"></span>Log4j-Scala</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/link.png" alt="Older Releases" border="0"/> Older Releases</li>
    <li><a href="http://logging.apache.org/log4j/1.2/" class="externalLink" title="Log4j 1.2 - End of Life"><span class="none"></span>Log4j 1.2 - End of Life</a></li>
    <li><a href="http://logging.apache.org/log4j/log4j-2.3/" class="externalLink" title="Log4j 2.3 - Java 6"><span class="none"></span>Log4j 2.3 - Java 6</a></li>
    <li><a href="http://logging.apache.org/log4j/log4j-2.12.1/" class="externalLink" title="Log4j 2.12.1 - Java 7"><span class="none"></span>Log4j 2.12.1 - Java 7</a></li>
    <li><a href="http://logging.apache.org/log4j/2.x/" class="externalLink" title="Log4j 2.x - Latest release for Java 8"><span class="none"></span>Log4j 2.x - Latest release for Java 8</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/cog.png" alt="Components" border="0"/> Components</li>
    <li><a href="../log4j-api.html" title="API"><span class="none"></span>API</a></li>
    <li><a href="../log4j-core.html" title="Implementation"><span class="none"></span>Implementation</a></li>
    <li><a href="../log4j-jcl.html" title="Commons Logging Bridge"><span class="none"></span>Commons Logging Bridge</a></li>
    <li><a href="../log4j-1.2-api.html" title="Log4j 1.2 API"><span class="none"></span>Log4j 1.2 API</a></li>
    <li><a href="../log4j-slf4j-impl.html" title="SLF4J Binding"><span class="none"></span>SLF4J Binding</a></li>
    <li><a href="../log4j-jul.html" title="JUL Adapter"><span class="none"></span>JUL Adapter</a></li>
    <li><a href="../log4j-jpl.html" title="JDK Platform Logger"><span class="none"></span>JDK Platform Logger</a></li>
    <li><a href="../log4j-to-slf4j.html" title="Log4j 2 to SLF4J Adapter"><span class="none"></span>Log4j 2 to SLF4J Adapter</a></li>
    <li><a href="../log4j-jdbc-dbcp2.html" title="JDBC Appender"><span class="none"></span>JDBC Appender</a></li>
    <li><a href="../log4j-jeromq.html" title="ZeroMQ Appender"><span class="none"></span>ZeroMQ Appender</a></li>
    <li><a href="../log4j-flume-ng.html" title="Apache Flume Appender"><span class="none"></span>Apache Flume Appender</a></li>
    <li><a href="../log4j-jms.html" title="JMS Appender"><span class="none"></span>JMS Appender</a></li>
    <li><a href="../log4j-taglib.html" title="Tag Library"><span class="none"></span>Tag Library</a></li>
    <li><a href="../log4j-jmx-gui.html" title="JMX GUI"><span class="none"></span>JMX GUI</a></li>
    <li><a href="../log4j-web.html" title="Web Application Support"><span class="none"></span>Web Application Support</a></li>
    <li><a href="../log4j-jakarta-web.html" title="Jakarta Web Application Support"><span class="none"></span>Jakarta Web Application Support</a></li>
    <li><a href="../log4j-appserver.html" title="Application Server Integration"><span class="none"></span>Application Server Integration</a></li>
    <li><a href="../log4j-couchdb.html" title="CouchDB appender"><span class="none"></span>CouchDB appender</a></li>
    <li><a href="../log4j-mongodb3.html" title="MongoDB3 appender"><span class="none"></span>MongoDB3 appender</a></li>
    <li><a href="../log4j-mongodb4.html" title="MongoDB4 appender"><span class="none"></span>MongoDB4 appender</a></li>
    <li><a href="../log4j-cassandra.html" title="Cassandra appender"><span class="none"></span>Cassandra appender</a></li>
    <li><a href="../log4j-iostreams.html" title="IO Streams"><span class="none"></span>IO Streams</a></li>
    <li><a href="../log4j-liquibase.html" title="Liquibase Binding"><span class="none"></span>Liquibase Binding</a></li>
    <li><a href="../log4j-docker.html" title="Docker Support"><span class="none"></span>Docker Support</a></li>
    <li><a href="../log4j-kubernetes.html" title="Kubernetes Support"><span class="none"></span>Kubernetes Support</a></li>
    <li><a href="../log4j-spring-boot.html" title="Log4j Spring Boot"><span class="none"></span>Log4j Spring Boot</a></li>
    <li><a href="../log4j-spring-cloud-config-client.html" title="Spring Cloud Config Client"><span class="none"></span>Spring Cloud Config Client</a></li>
    <li><a href="../log4j-transform" title="Log4j Transformation Tools"><span class="none"></span>Log4j Transformation Tools</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/info.png" alt="Project Information" border="0"/> Project Information</li>
    <li><a href="../team.html" title="Project Team"><span class="none"></span>Project Team</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="Project License"><span class="none"></span>Project License</a></li>
    <li><a href="https://github.com/apache/logging-log4j2/tree/main" class="externalLink" title="Source Repository"><span class="none"></span>Source Repository</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/layers.png" alt="Project Reports" border="0"/> Project Reports</li>
    <li><a href="../rat-report.html" title="RAT Report"><span class="none"></span>RAT Report</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Custom Log Levels</h1>
<div id="preamble">
<div class="sectionbody">
<link rel="stylesheet" type="text/css" href="../css/tables.css">
</div>
</div>
<div class="sect1">
<h2 id="DefiningLevelsInCode">Defining Custom Log Levels in Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Log4j 2 supports custom log levels. Custom log levels can be defined in
code or in configuration. To define a custom log level in code, use the
<code>Level.forName()</code> method. This method creates a new level for the
specified name. After a log level is defined you can log messages at
this level by calling the <code>Logger.log()</code> method and passing the custom log
level:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// This creates the "VERBOSE" level if it does not exist yet.
final Level VERBOSE = Level.forName("VERBOSE", 550);

final Logger logger = LogManager.getLogger();
logger.log(VERBOSE, "a verbose message"); // use the custom VERBOSE level

// Create and use a new custom level "DIAG".
logger.log(Level.forName("DIAG", 350), "a diagnostic message");

// Use (don't create) the "DIAG" custom level.
// Only do this *after* the custom level is created!
logger.log(Level.getLevel("DIAG"), "another diagnostic message");

// Using an undefined level results in an error: Level.getLevel() returns null,
// and logger.log(null, "message") throws an exception.
logger.log(Level.getLevel("FORGOT_TO_DEFINE"), "some message"); // throws exception!</code></pre>
</div>
</div>
<div class="paragraph">
<p>When defining a custom log level, the <code>intLevel</code> parameter (550 and 350
in the example above) determines where the custom level exists in
relation to the standard levels built-in to Log4j 2. For reference, the
table below shows the <code>intLevel</code> of the built-in log levels.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Standard log levels built-in to Log4j</caption>
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Standard Level</th>
<th class="tableblock halign-right valign-top">intLevel</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OFF</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FATAL</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">200</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARN</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">300</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">400</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEBUG</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">500</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRACE</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">600</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>Integer.MAX_VALUE</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="DefiningLevelsInConfiguration">Defining Custom Log Levels in Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Custom log levels can also be defined in configuration. This is
convenient for using a custom level in a logger filter or an appender
filter. Similar to defining log levels in code, a custom level must be
defined first, before it can be used. If a logger or appender is
configured with an undefined level, that logger or appender will be
invalid and will not process any log events.</p>
</div>
<div class="paragraph">
<p>The <strong>CustomLevel</strong> configuration element creates a custom level.
Internally it calls the same <code>Level.forName()</code> method discussed above.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. CustomLevel Parameters</caption>
<colgroup>
<col style="width: 16.6666%;"/>
<col style="width: 16.6666%;"/>
<col style="width: 66.6668%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the custom level. Note that level names are
case sensitive. The convention is to use all upper-case names.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>intLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines where the custom level exists in relation
to the standard levels built-in to Log4j 2 (see the table above).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following example shows a configuration that defines some custom log
levels and uses a custom log level to filter log events sent to the
console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Configuration status="WARN"&gt;
  &lt;!-- Define custom levels before using them for filtering below. --&gt;
  &lt;CustomLevels&gt;
    &lt;CustomLevel name="DIAG" intLevel="350" /&gt;
    &lt;CustomLevel name="NOTICE" intLevel="450" /&gt;
    &lt;CustomLevel name="VERBOSE" intLevel="550" /&gt;
  &lt;/CustomLevels&gt;

  &lt;Appenders&gt;
    &lt;Console name="Console" target="SYSTEM_OUT"&gt;
      &lt;PatternLayout pattern="%d %-7level %logger{36} - %msg%n"/&gt;
    &lt;/Console&gt;
    &lt;File name="MyFile" fileName="logs/app.log"&gt;
      &lt;PatternLayout pattern="%d %-7level %logger{36} - %msg%n"/&gt;
    &lt;/File&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level="trace"&gt;
      &lt;!-- Only events at DIAG level or more specific are sent to the console. --&gt;
      &lt;AppenderRef ref="Console" level="diag" /&gt;
      &lt;AppenderRef ref="MyFile" level="trace" /&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="StandardLoggerInterface">Convenience Methods for the Built-in Log Levels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The built-in log levels have a set of convenience methods on the Logger
interface that makes them easier to use. For example, the Logger
interface has 24 <code>debug()</code> methods that support the DEBUG level:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// convenience methods for the built-in DEBUG level
debug(Marker, Message)
debug(Marker, Message, Throwable)
debug(Marker, Object)
debug(Marker, Object, Throwable)
debug(Marker, String)
debug(Marker, String, Object...)
debug(Marker, String, Throwable)
debug(Message)
debug(Message, Throwable)
debug(Object)
debug(Object, Throwable)
debug(String)
debug(String, Object...)
debug(String, Throwable)
// lambda support methods added in 2.4
debug(Marker, MessageSupplier)
debug(Marker, MessageSupplier, Throwable)
debug(Marker, String, Supplier&lt;?&gt;...)
debug(Marker, Supplier&lt;?&gt;)
debug(Marker, Supplier&lt;?&gt;, Throwable)
debug(MessageSupplier)
debug(MessageSupplier, Throwable)
debug(String, Supplier&lt;?&gt;...)
debug(Supplier&lt;?&gt;)
debug(Supplier&lt;?&gt;, Throwable)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similar methods exist for the other built-in levels. Custom levels, in
contrast, need to pass in the log level as an extra parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// need to pass the custom level as a parameter
logger.log(VERBOSE, "a verbose message");
logger.log(Level.forName("DIAG", 350), "another message");</code></pre>
</div>
</div>
<div class="paragraph">
<p>It would be nice to have the same ease of use with custom levels, so
that after declaring the custom VERBOSE/DIAG levels, we could use code
like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// nice to have: descriptive methods and no need to pass the level as a parameter
logger.verbose("a verbose message");
logger.diag("another message");
logger.diag("java 8 lambda expression: {}", () -&gt; someMethod());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The standard Logger interface cannot provide convenience methods for
custom levels, but the next few sections introduce a code generation
tool to create loggers that aim to make custom levels as easy to use as
built-in levels.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="AddingOrReplacingLevels">Adding or Replacing Log Levels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We assume that most users want to <em>add</em> custom level methods to the
Logger interface, in addition to the existing <code>trace()</code>, <code>debug()</code>, <code>info()</code>,
&#8230;&#8203; methods for the built-in log levels.</p>
</div>
<div class="paragraph">
<p>There is another use case, Domain Specific Language loggers, where we
want to <em>replace</em> the existing <code>trace()</code>, <code>debug()</code>, <code>info()</code>, &#8230;&#8203; methods
with all-custom methods.</p>
</div>
<div class="paragraph">
<p>For example, for medical devices we could have only <code>critical()</code>,
<code>warning()</code>, and <code>advisory()</code> methods. Another example could be a game
that has only <code>defcon1()</code>, <code>defcon2()</code>, and <code>defcon3()</code> levels.</p>
</div>
<div class="paragraph">
<p>If it were possible to hide existing log levels, users could customize
the Logger interface to match their requirements. Some people may not
want to have a FATAL or a TRACE level, for example. They would like to
be able to create a custom Logger that only has <code>debug()</code>, <code>info()</code>, <code>warn()</code>
and <code>error()</code> methods.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CustomLoggers">Generating Source Code for a Custom Logger Wrapper</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Common Log4j usage is to get an instance of the <code>Logger</code> interface from
the <code>LogManager</code> and call the methods on this interface. However, the
custom log Levels are not known in advance, so Log4j cannot provide an
interface with convenience methods for these custom log Levels.</p>
</div>
<div class="paragraph">
<p>To solve this, Log4j ships with a tool that generates source code for a
Logger wrapper. The generated wrapper class has convenience methods for
each custom log level, making custom levels just as easy to use as the
built-in levels.</p>
</div>
<div class="paragraph">
<p>There are two flavors of wrappers: ones that <em>*extend*</em> the Logger API
(adding methods to the built-in levels) and ones that <em>*customize*</em> the
Logger API (replacing the built-in methods).</p>
</div>
<div class="paragraph">
<p>When generating the source code for a wrapper class, you need to
specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the fully qualified name of the class to generate</p>
</li>
<li>
<p>the list of custom levels to support and their <code>intLevel</code> relative
strength</p>
</li>
<li>
<p>whether to extend <code>Logger</code> (and keep the existing built-in methods) or
have only methods for the custom log levels</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You would then include the generated source code in the project where
you want to use custom log levels.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ExampleUsage">Example Usage of a Generated Logger Wrapper</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is an example of how one would use a generated logger wrapper with
custom levels DIAG, NOTICE and VERBOSE:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// ExtLogger is a generated logger wrapper
import com.mycompany.myproject.ExtLogger;

public class MyService {
    // instead of Logger logger = LogManager.getLogger(MyService.class):
    private static final ExtLogger logger = ExtLogger.create(MyService.class);

    public void demoExtendedLogger() {
        // ...
        logger.trace("the built-in TRACE level");
        logger.verbose("a custom level: a VERBOSE message");
        logger.debug("the built-in DEBUG level");
        logger.notice("a custom level: a NOTICE message");
        logger.info("the built-in INFO level");
        logger.diag("a custom level: a DIAG message");
        logger.warn("the built-in WARN level");
        logger.error("the built-in ERROR level");
        logger.fatal("the built-in FATAL level");
        logger.notice("java 8 lambda expression only executed if NOTICE is enabled: {}", () -&gt; someMethod());
        // ...
    }
    ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CodeGen">Generating Extended Loggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following command to generate a logger wrapper that adds methods
to the built-in ones:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">java -cp log4j-core-{Log4jReleaseVersion}.jar org.apache.logging.log4j.core.tools.ExtendedLoggerGenerator \
        com.mycomp.ExtLogger DIAG=350 NOTICE=450 VERBOSE=550 > com/mycomp/ExtLogger.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate source code for a logger wrapper that has the
convenience methods for the built-in levels <em>as well as</em> the specified
custom levels. The tool prints the generated source code to the console.
By appending " &gt; <em>filename</em>" the output can be redirected to a file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Prior to log4j-2.9, this tool was an inner class
<code>Generate$ExtendedLogger</code>.<br/>
Under the bash shell on Unix/Mac/Linux the dollar character $ needs to
be escaped, so the class name should be between single quotes
'org.apache.logging.log4j.core.tools.Generate$ExtendedLogger’.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating_custom_loggers">Generating Custom Loggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following command to generate a logger wrapper that hides the
built-in levels and has only custom levels:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">java -cp log4j-core-{Log4jReleaseVersion}.jar org.apache.logging.log4j.core.tools.CustomLoggerGenerator \
        com.mycomp.MyLogger DEFCON1=350 DEFCON2=450 DEFCON3=550 > com/mycomp/MyLogger.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate source code for a logger wrapper that <em>only</em> has
convenience methods for the specified custom levels, <em>not</em> for the
built-in levels. The tool prints the generated source code to the
console. By appending " &gt; <em>filename</em>" the output can be redirected to a
file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Prior to log4j-2.9, this tool was an inner class <code>Generate$ExtendedLogger</code>.
Under the bash shell on Unix/Mac/Linux the dollar character $ needs to
be escaped, so the class name should be between single quotes
'org.apache.logging.log4j.core.tools.Generate$CustomLogger’.
</td>
</tr>
</table>
</div>
</div>
</div>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<p align="center">Copyright &copy; 1999-2023 <a class="external" href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.<br>
      Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
