<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from target/generated-sources/site/asciidoc/release-notes/2.8.adoc at 2023-02-17
 | Rendered using Apache Maven Fluido Skin 1.11.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Log4j &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.11.2.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.11.2.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../.." id="bannerLeft"><img src="../images/ls-logo.jpg"  alt="" style="" /></a></div>
          <div class="pull-right"><a href=".././" id="bannerRight"><img src="../images/logo.png"  alt="" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-02-17<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.20.0</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/apache/logging-log4j2" class="externalLink" title="GitHub">GitHub</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../../../" title="Logging Services">Logging Services</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
        <li class="pull-right"><a href="https://cwiki.apache.org/confluence/display/LOGGING/Log4j" class="externalLink" title="Logging Wiki">Logging Wiki</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/home.png" alt="Apache Log4j™ 2" style="border: 0;" /> Apache Log4j™ 2</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="../javadoc.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../maven-artifacts.html" title="Maven, Ivy, Gradle Artifacts"><span class="icon-chevron-right"></span>Maven, Ivy, Gradle Artifacts</a></li>
    <li><a href="../runtime-dependencies.html" title="Runtime Dependencies"><span class="none"></span>Runtime Dependencies</a></li>
    <li><a href="../release-notes/index.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="../performance.html" title="Performance"><span class="icon-chevron-right"></span>Performance</a></li>
    <li><a href="../articles.html" title="Articles and Tutorials"><span class="none"></span>Articles and Tutorials</a></li>
    <li><a href="../security.html" title="Security"><span class="none"></span>Security</a></li>
    <li><a href="../support.html" title="Support"><span class="none"></span>Support</a></li>
    <li><a href="../thanks.html" title="Thanks"><span class="none"></span>Thanks</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/pencil.png" alt="For Contributors" style="border: 0;" /> For Contributors</li>
    <li><a href="../guidelines.html" title="Guidelines"><span class="none"></span>Guidelines</a></li>
    <li><a href="../javastyle.html" title="Style Guide"><span class="none"></span>Style Guide</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/book.png" alt="Manual" style="border: 0;" /> Manual</li>
    <li><a href="../manual/index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../manual/architecture.html" title="Architecture"><span class="none"></span>Architecture</a></li>
    <li><a href="../manual/api-separation.html" title="API Separation"><span class="none"></span>API Separation</a></li>
    <li><a href="../manual/migration.html" title="Log4j 1.x Migration"><span class="icon-chevron-right"></span>Log4j 1.x Migration</a></li>
    <li><a href="../manual/api.html" title="Java API"><span class="icon-chevron-right"></span>Java API</a></li>
    <li><a href="../manual/scala-api.html" title="Scala API"><span class="none"></span>Scala API</a></li>
    <li><a href="../manual/configuration.html" title="Configuration"><span class="icon-chevron-right"></span>Configuration</a></li>
    <li><a href="../manual/usage.html" title="Usage"><span class="icon-chevron-right"></span>Usage</a></li>
    <li><a href="../manual/webapp.html" title="Web Applications and JSPs"><span class="icon-chevron-right"></span>Web Applications and JSPs</a></li>
    <li><a href="../manual/lookups.html" title="Lookups"><span class="icon-chevron-right"></span>Lookups</a></li>
    <li><a href="../manual/appenders.html" title="Appenders"><span class="icon-chevron-right"></span>Appenders</a></li>
    <li><a href="../manual/layouts.html" title="Layouts"><span class="icon-chevron-right"></span>Layouts</a></li>
    <li><a href="../manual/filters.html" title="Filters"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../manual/async.html" title="Async Loggers"><span class="icon-chevron-right"></span>Async Loggers</a></li>
    <li><a href="../manual/garbagefree.html" title="Garbage-free Logging"><span class="icon-chevron-right"></span>Garbage-free Logging</a></li>
    <li><a href="../manual/jmx.html" title="JMX"><span class="none"></span>JMX</a></li>
    <li><a href="../manual/logsep.html" title="Logging Separation"><span class="none"></span>Logging Separation</a></li>
    <li><a href="../manual/extending.html" title="Extending Log4j"><span class="icon-chevron-right"></span>Extending Log4j</a></li>
    <li><a href="../manual/plugins.html" title="Plugins"><span class="icon-chevron-right"></span>Plugins</a></li>
    <li><a href="../manual/customconfig.html" title="Programmatic Log4j Configuration"><span class="icon-chevron-right"></span>Programmatic Log4j Configuration</a></li>
    <li><a href="../manual/customloglevels.html" title="Custom Log Levels"><span class="icon-chevron-right"></span>Custom Log Levels</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/tag.png" alt="Related Projects" style="border: 0;" /> Related Projects</li>
    <li><a href="../../../chainsaw/2.x/index.html" title="Chainsaw"><span class="none"></span>Chainsaw</a></li>
    <li><a href="../../../log4cxx/latest_stable/index.html" title="Log4Cxx"><span class="none"></span>Log4Cxx</a></li>
    <li><a href="../../../log4j-audit/latest/index.html" title="Log4j Audit"><span class="none"></span>Log4j Audit</a></li>
    <li><a href="../../kotlin/index.html" title="Log4j Kotlin"><span class="none"></span>Log4j Kotlin</a></li>
    <li><a href="../../scala/index.html" title="Log4j Scala"><span class="none"></span>Log4j Scala</a></li>
    <li><a href="../../../log4net/index.html" title="Log4Net"><span class="none"></span>Log4Net</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/link.png" alt="Legacy Sites" style="border: 0;" /> Legacy Sites</li>
    <li><a href="../../1.2/" title="Log4j 1.2 - End of Life"><span class="none"></span>Log4j 1.2 - End of Life</a></li>
    <li><a href="../../log4j-2.3.2/" title="Log4j 2.3.2 - Java 6"><span class="none"></span>Log4j 2.3.2 - Java 6</a></li>
    <li><a href="../../log4j-2.12.4/" title="Log4j 2.12.4 - Java 7"><span class="none"></span>Log4j 2.12.4 - Java 7</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/cog.png" alt="Components" style="border: 0;" /> Components</li>
    <li><a href="../log4j-api.html" title="API"><span class="none"></span>API</a></li>
    <li><a href="../log4j-jcl.html" title="Commons Logging Bridge"><span class="none"></span>Commons Logging Bridge</a></li>
    <li><a href="../log4j-1.2-api.html" title="Log4j 1.2 API"><span class="none"></span>Log4j 1.2 API</a></li>
    <li><a href="../log4j-slf4j-impl.html" title="SLF4J Binding"><span class="none"></span>SLF4J Binding</a></li>
    <li><a href="../log4j-jul.html" title="JUL Adapter"><span class="none"></span>JUL Adapter</a></li>
    <li><a href="../log4j-jpl.html" title="JDK Platform Logger"><span class="none"></span>JDK Platform Logger</a></li>
    <li><a href="../log4j-to-slf4j.html" title="Log4j 2 to SLF4J Adapter"><span class="none"></span>Log4j 2 to SLF4J Adapter</a></li>
    <li><a href="../log4j-flume-ng.html" title="Apache Flume Appender"><span class="none"></span>Apache Flume Appender</a></li>
    <li><a href="../log4j-taglib.html" title="Log4j Tag Library"><span class="none"></span>Log4j Tag Library</a></li>
    <li><a href="../log4j-jmx-gui.html" title="Log4j JMX GUI"><span class="none"></span>Log4j JMX GUI</a></li>
    <li><a href="../log4j-web.html" title="Log4j Web Application Support"><span class="none"></span>Log4j Web Application Support</a></li>
    <li><a href="../log4j-jakarta-web.html" title="Log4j Jakarta Web Application Support"><span class="none"></span>Log4j Jakarta Web Application Support</a></li>
    <li><a href="../log4j-appserver.html" title="Log4j Application Server Integration"><span class="none"></span>Log4j Application Server Integration</a></li>
    <li><a href="../log4j-couchdb.html" title="Log4j CouchDB appender"><span class="none"></span>Log4j CouchDB appender</a></li>
    <li><a href="../log4j-mongodb3.html" title="Log4j MongoDB3 appender"><span class="none"></span>Log4j MongoDB3 appender</a></li>
    <li><a href="../log4j-mongodb4.html" title="Log4j MongoDB4 appender"><span class="none"></span>Log4j MongoDB4 appender</a></li>
    <li><a href="../log4j-cassandra.html" title="Log4j Cassandra appender"><span class="none"></span>Log4j Cassandra appender</a></li>
    <li><a href="../log4j-iostreams.html" title="Log4j IO Streams"><span class="none"></span>Log4j IO Streams</a></li>
    <li><a href="../log4j-docker.html" title="Log4j Docker Support"><span class="none"></span>Log4j Docker Support</a></li>
    <li><a href="../log4j-kubernetes.html" title="Log4j Kubernetes Support"><span class="none"></span>Log4j Kubernetes Support</a></li>
    <li><a href="../log4j-spring-boot.html" title="Log4j Spring Boot"><span class="none"></span>Log4j Spring Boot</a></li>
    <li><a href="../log4j-spring-cloud-config-client.html" title="Log4j Spring Cloud Config Client"><span class="none"></span>Log4j Spring Cloud Config Client</a></li>
    <li><a href="../log4j-transform" title="Log4j Transformation Tools"><span class="none"></span>Log4j Transformation Tools</a></li>
   <li class="nav-header"><img class="imageLink" src="../img/glyphicons/info.png" alt="Project Information" style="border: 0;" /> Project Information</li>
    <li><a href="../team.html" title="Project Team"><span class="none"></span>Project Team</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="Project License"><span class="none"></span>Project License</a></li>
    <li><a href="https://github.com/apache/logging-log4j2" class="externalLink" title="Source Repository"><span class="none"></span>Source Repository</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>2.8 (2017-01-21)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This release contains several bugfixes and new features.
The new features include the ability to have the <code>RollingFileAppender</code> log directly to the archive files.
More details on the new features and fixes are itemized below.</p>
</div>
<div class="paragraph">
<p>Note that subsequent to the 2.6 release a minor source incompatibility was found due to the addition of new methods to the <code>Logger</code> interface.
If you have code that does:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error(null, “This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or similar with any log level you will get a compiler error saying the reference is ambiguous.
To correct this either do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error(“This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">logger.error((Marker) null, “This is the log message”, throwable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Log4j 2.8 API, as well as many core components, maintains binary compatibility with previous releases.</p>
</div>
<div class="paragraph">
<p>Log4j 2.8 requires a minimum of Java 7 to build and run.
Log4j 2.3 was the last release that supported Java 6.</p>
</div>
<div class="paragraph">
<p>Basic compatibility with Log4j 1.x is provided through the <code>log4j-1.2-api</code> component, however it does
not implement some of the very implementation specific classes and methods.
The package names and Maven <code>groupId</code> have been changed to <code>org.apache.logging.log4j</code> to avoid any conflicts with Log4j 1.x.</p>
</div>
<div class="paragraph">
<p>For complete information on Apache Log4j 2, including instructions on how to submit bug reports, patches, or suggestions for improvement, see <a href="http://logging.apache.org/log4j/2.x/">the Apache Log4j 2 website</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes">Changes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="added">Added</h3>
<div class="ulist">
<ul>
<li>
<p>Make DefaultRolloverStrategy more efficient when renaming files. Add nomax option to the fileIndex attribute. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1032">LOG4J2-1032</a> by Ralph Goers)</p>
</li>
<li>
<p>RollingFileAppender now supports omitting the file name and writing directly to the archive files. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1101">LOG4J2-1101</a> by Ralph Goers)</p>
</li>
<li>
<p>Allow default value in property to be a Lookup. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1243">LOG4J2-1243</a> by Ralph Goers)</p>
</li>
<li>
<p>Add documentation regarding YAML configuration format. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1379">LOG4J2-1379</a> by Matt Sicker)</p>
</li>
<li>
<p>Added public method ThreadContext::getThreadContextMap; removed class ThreadContextAccess. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1660">LOG4J2-1660</a> by Remko Popma)</p>
</li>
<li>
<p>Introduce interfaces IndexedStringMap and IndexedReadOnlyStringMap, supporting garbage-free iteration over sorted map. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1681">LOG4J2-1681</a> by Remko Popma)</p>
</li>
<li>
<p>Add a Builder to ScriptPatternSelector and deprecate ScriptPatternSelector.createSelector(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1695">LOG4J2-1695</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to MarkerPatternSelector and deprecate MarkerPatternSelector.createSelector(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1696">LOG4J2-1696</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a SerializerBuilder to PatternLayout and deprecate PatternLayout.createSerializer(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1697">LOG4J2-1697</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to RandomAccessFileAppender and deprecate RandomAccessFileAppender.createAppender(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1701">LOG4J2-1701</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to MemoryMappedFileAppender and deprecate MemoryMappedFileAppender.createAppender(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1703">LOG4J2-1703</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to RollingRandomAccessFileAppender and deprecate RollingRandomAccessFileAppender.createAppender(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1704">LOG4J2-1704</a> by Gary Gregory)</p>
</li>
<li>
<p>Allow TCP Socket Appender to set socket options. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1707">LOG4J2-1707</a> by Gary Gregory)</p>
</li>
<li>
<p>Allow Secure Socket Appender to set socket options. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1708">LOG4J2-1708</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to SyslogAppender and deprecate SyslogAppender.createAppender(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1709">LOG4J2-1709</a> by Gary Gregory)</p>
</li>
<li>
<p>Introduce marker interface AsynchronouslyFormattable. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1718">LOG4J2-1718</a> by Remko Popma)</p>
</li>
<li>
<p>Add Apache Cassandra appender and ColumnMapping plugin. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1730">LOG4J2-1730</a> by Matt Sicker)</p>
</li>
<li>
<p>Add SyncSend attribute to KafkaAppender (as in KafkaLog4jAppender). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1733">LOG4J2-1733</a> by Gary Gregory, Vincent Tieleman)</p>
</li>
<li>
<p>Add a Builder to SyslogLayout and deprecate SyslogLayout.createLayout(Facility, boolean, String, Charset). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1737">LOG4J2-1737</a> by Gary Gregory)</p>
</li>
<li>
<p>Add a Builder to JsonLayout and deprecate org.apache.logging.log4j.core.layout.JsonLayout.createLayout(Configuration, boolean, boolean, boolean, boolean, boolean, boolean, String, String, Charset, boolean). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1738">LOG4J2-1738</a> by Gary Gregory)</p>
</li>
<li>
<p>Add Builder to KafkaAppender and deprecate KafkaAppender.createAppender(Layout, Filter, String, boolean, String, Property[], Configuration). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1739">LOG4J2-1739</a> by Gary Gregory)</p>
</li>
<li>
<p>Add TypeConverter and constraint validators for java.net.InetAddress and port numbers. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1755">LOG4J2-1755</a> by Matt Sicker)</p>
</li>
<li>
<p>Add TypeConverter for java.nio.file.Path. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1758">LOG4J2-1758</a> by Matt Sicker)</p>
</li>
<li>
<p>Add TypeConverter for java.util.UUID. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1759">LOG4J2-1759</a> by Matt Sicker)</p>
</li>
<li>
<p>Use MethodHandle in ContextDataFactory cached constructor. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1764">LOG4J2-1764</a> by Matt Sicker)</p>
</li>
<li>
<p>Add a Builder to JdbcAppender and deprecate JdbcAppender.createAppender(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1770">LOG4J2-1770</a> by Matt Sicker)</p>
</li>
<li>
<p>Add a Builder to ColumnConfig and deprecate ColumnConfig.createColumnConfig(). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1771">LOG4J2-1771</a> by Matt Sicker)</p>
</li>
<li>
<p>Add StatusLoggerRule to allow unit tests to set a status level. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1773">LOG4J2-1773</a> by Matt Sicker)</p>
</li>
<li>
<p>Document how to exclude transitive conflicting dependencies in Maven and Gradle. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1787">LOG4J2-1787</a> by Matt Sicker)</p>
</li>
<li>
<p>Add non-string data type support to JdbcAppender via new ColumnMapping plugin. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-424">LOG4J2-424</a> by Matt Sicker)</p>
</li>
<li>
<p>Refactor SyslogAppender so that Layout is a Plugin element. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-969">LOG4J2-969</a> by Gary Gregory)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changed">Changed</h3>
<div class="ulist">
<ul>
<li>
<p>The log4j-slf4j-impl module now declares a runtime dependency on log4j-core. While not technically required, this makes the log4j-slf4j-impl module behave similarly to slf4j-log4j12, and facilitates migration to Log4j 2. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1302">LOG4J2-1302</a> by Remko Popma)</p>
</li>
<li>
<p>Update JeroMQ from 0.3.5 to 0.3.6. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1641">LOG4J2-1641</a> by Gary Gregory)</p>
</li>
<li>
<p>Inefficient locking in AbstractLoggerAdapter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1644">LOG4J2-1644</a> by Gary Gregory, Tim Gokcen, Pavel Sivolobtchik)</p>
</li>
<li>
<p>Migrate to Mockito 2.x in unit tests. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1646">LOG4J2-1646</a> by Matt Sicker)</p>
</li>
<li>
<p>Update Commons Lang from 3.4 to 3.5. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1647">LOG4J2-1647</a> by Matt Sicker)</p>
</li>
<li>
<p>Update Jackson from 2.8.3 to 2.8.4. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1655">LOG4J2-1655</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Apache Flume from 1.6.0 to 1.7.0. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1656">LOG4J2-1656</a> by Gary Gregory)</p>
</li>
<li>
<p>Update LMAX Disruptor from 3.3.5 to 3.3.6. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1698">LOG4J2-1698</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Jansi from 1.13 to 1.14. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1700">LOG4J2-1700</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Jackson from 2.8.4 to 2.8.5. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1735">LOG4J2-1735</a> by Gary Gregory)</p>
</li>
<li>
<p>Update Kafka from 0.10.0.1 to 0.10.1.1. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1750">LOG4J2-1750</a> by Gary Gregory)</p>
</li>
<li>
<p>Update liquibase-core from 3.5.1 to 3.5.3. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1751">LOG4J2-1751</a> by Gary Gregory)</p>
</li>
<li>
<p>Replace MockEJB dependency in unit tests with Spring Test and Mockito. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1774">LOG4J2-1774</a> by Matt Sicker)</p>
</li>
<li>
<p>Update Conversant Disruptor from 1.2.7 to 1.2.10 (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1781">LOG4J2-1781</a> by Matt Sicker)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed">Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>Improve LogEvent serialization to handle non-serializable Messages and deserializing when required classes are missing. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1226">LOG4J2-1226</a> by Remko Popma)</p>
</li>
<li>
<p>CronTriggeringPolicy raise exception and fail to rollover log file when evaluateOnStartup is true. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1474">LOG4J2-1474</a> by Gary Gregory, yin mingjun, <code>Neon</code>)</p>
</li>
<li>
<p>Configurable JVM shutdown hook timeout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1623">LOG4J2-1623</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Fixed file locking regression in FileAppender introduced in 2.6. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1628">LOG4J2-1628</a> by Remko Popma)</p>
</li>
<li>
<p>Console Appender does not pick up Oracle Java 8&#8217;s sun.stdout.encoding and sun.stderr.encoding. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1636">LOG4J2-1636</a> by Gary Gregory, Eldar Gabdullin)</p>
</li>
<li>
<p>Fixed problems when used in OSGi containers (IllegalAccessError, NoClassDefFoundError). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1637">LOG4J2-1637</a> by Remko Popma)</p>
</li>
<li>
<p>Fix MemoryMappedFileAppender.createAppender() Javadoc for immediateFlush. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1639">LOG4J2-1639</a> by Gary Gregory, Sridhar Gopinath)</p>
</li>
<li>
<p>DefaultShutdownCallbackRegistry can throw a NoClassDefFoundError. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1642">LOG4J2-1642</a> by Gary Gregory, Johno Crawford)</p>
</li>
<li>
<p>Immutable empty StringMap. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1645">LOG4J2-1645</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Insure the ConfigurationScheduler shuts down without blocking. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1649">LOG4J2-1649</a> by Ralph Goers, Georg Friedrich)</p>
</li>
<li>
<p>CronTriggeringPolicy would use the wrong date/time when rolling over and create multiple triggering policies on reconfiguration. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1653">LOG4J2-1653</a> by Ralph Goers, Georg Friedrich)</p>
</li>
<li>
<p>Prevent NPE in ThreadContextMapFactory::createThreadContextMap when initializing Log4j with Configurator::initialize and the BasicContextSelector is used. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1658">LOG4J2-1658</a> by Remko Popma)</p>
</li>
<li>
<p>Ensure SortedArrayStringMap can be serialized and deserialized without errors regardless of content. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1663">LOG4J2-1663</a> by Remko Popma)</p>
</li>
<li>
<p>Improve OSGi unit tests. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1664">LOG4J2-1664</a> by Gary Gregory, Ludovic HOCHET)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in IntegerPatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1665">LOG4J2-1665</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in RelativeTimePatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1666">LOG4J2-1666</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in SequenceNumberPatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1667">LOG4J2-1667</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MarkerPatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1668">LOG4J2-1668</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MaxLengthConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1669">LOG4J2-1669</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in EqualsReplacementConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1670">LOG4J2-1670</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in EqualsIgnoreCaseReplacementConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1671">LOG4J2-1671</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in LevelRangeFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1672">LOG4J2-1672</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MarkerFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1673">LOG4J2-1673</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in ThresholdFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1674">LOG4J2-1674</a> by Remko Popma)</p>
</li>
<li>
<p>Some LogEvents may not carry a Throwable (Use Message.getThrowable() in log(Message) methods.) (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1676">LOG4J2-1676</a> by Gary Gregory, Joern Huxhorn)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MapFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1677">LOG4J2-1677</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in ThreadContextMapFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1678">LOG4J2-1678</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in StructuredDataFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1679">LOG4J2-1679</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in TimeFilter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1680">LOG4J2-1680</a> by Remko Popma)</p>
</li>
<li>
<p>Logger using LocalizedMessageFactory prints key instead of message. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1682">LOG4J2-1682</a> by Gary Gregory, Markus Waidhofer)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MapMessage. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1683">LOG4J2-1683</a> by Remko Popma)</p>
</li>
<li>
<p>Option 'disableAnsi' in PatternLayout to unconditionally disable ANSI escape codes. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1685">LOG4J2-1685</a> by Mikael Ståldal, Raman Gupta)</p>
</li>
<li>
<p>NPE in ThrowableProxy when resolving stack in Java EE/OSGi environment. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1687">LOG4J2-1687</a> by Gary Gregory, Robert Christiansen)</p>
</li>
<li>
<p>Fixed bug where elements of a log message parameter array were nulled out in garbage-free mode. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1688">LOG4J2-1688</a> by Remko Popma)</p>
</li>
<li>
<p>Add CleanableThreadContextMap interface supporting method removeAll(Iterable&lt;String&gt;). (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1689">LOG4J2-1689</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Add putAll() method to CloseableThreadContext. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1692">LOG4J2-1692</a> by Mikael Ståldal, Greg Thomas)</p>
</li>
<li>
<p>Make TimeFilter usable as global filter and as logger filter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1706">LOG4J2-1706</a> by Remko Popma)</p>
</li>
<li>
<p>Pick up bug fixes from Apache Commons Lang&#8217;s org.apache.commons.lang3.time package. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1712">LOG4J2-1712</a> by Gary Gregory)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in AbstractStyleNameConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1714">LOG4J2-1714</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in NdcPatternConverter. (Note that use of the ThreadContext stack is not garbage-free.) (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1715">LOG4J2-1715</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in MapPatternConverter. (Note that constructing a MapMessage is not garbage-free.) (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1716">LOG4J2-1716</a> by Remko Popma)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in EncodingPatternConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1717">LOG4J2-1717</a> by Remko Popma)</p>
</li>
<li>
<p>Fixed race condition in ObjectMessage and SimpleMessage, ensuring that the log message contains the value the object has during the logging call. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1719">LOG4J2-1719</a> by Remko Popma)</p>
</li>
<li>
<p>Make GelfLayout independent of Jackson. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1720">LOG4J2-1720</a> by Mikael Ståldal)</p>
</li>
<li>
<p>(GC) Avoid allocating temporary objects in VariablesNotEmptyReplacementConverter. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1722">LOG4J2-1722</a> by Remko Popma)</p>
</li>
<li>
<p>Unwanted transitive dependency on geronimo-jms_1.1_spec causes OSGi tests to fail. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1723">LOG4J2-1723</a> by Gary Gregory, Ludovic HOCHET)</p>
</li>
<li>
<p>Using variables in GelfLayout&#8217;s additional fields at runtime. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1724">LOG4J2-1724</a> by Mikael Ståldal, Alexander Krasnostavsky)</p>
</li>
<li>
<p>SslSocketManager now respects connectTimeoutMillis. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1731">LOG4J2-1731</a> by Remko Popma, Chris Ribble)</p>
</li>
<li>
<p>SslSocketManagerFactory might leak Sockets when certain startup errors occur. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1734">LOG4J2-1734</a> by Gary Gregory)</p>
</li>
<li>
<p>TcpSocketManagerFactory might leak Sockets when certain startup errors occur. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1736">LOG4J2-1736</a> by Gary Gregory)</p>
</li>
<li>
<p>Add CronTriggeringPolicy programmatically leads to NPE. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1740">LOG4J2-1740</a> by Gary Gregory)</p>
</li>
<li>
<p>CompositeConfiguration does not add filters to appenderRefs. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1743">LOG4J2-1743</a> by Gary Gregory, Toby Shepheard)</p>
</li>
<li>
<p>The custom logger Generate tool no longer requires the log4j-api module on the classpath. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1744">LOG4J2-1744</a> by Remko Popma)</p>
</li>
<li>
<p>Do not use non-daemon thread pool for rollover tasks. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1748">LOG4J2-1748</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Adds xmlns in schema and some other tags. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1756">LOG4J2-1756</a> by Gary Gregory, shubhankar1100)</p>
</li>
<li>
<p>Add Builder to GelfLayout. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1762">LOG4J2-1762</a> by Mikael Ståldal)</p>
</li>
<li>
<p>Fixed concurrency issue affecting all layouts except PatternLayout and GelfLayout, which caused scrambled output and exceptions when logging synchronously from multiple threads. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1769">LOG4J2-1769</a> by Remko Popma, Brandon Goodin)</p>
</li>
<li>
<p>Fixed bug where AsyncLogger did not resolve configuration properties. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1779">LOG4J2-1779</a> by Remko Popma)</p>
</li>
<li>
<p>Eliminate the use of the ExecutorServices in the LoggerContext. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1780">LOG4J2-1780</a> by Mikael Ståldal)</p>
</li>
<li>
<p>ConfigurationScheduler now preserves interrupt flag during stop. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-1786">LOG4J2-1786</a> by Remko Popma)</p>
</li>
<li>
<p>Cannot define both <code>filters</code> and <code>separator</code> for PatternLayout %xEx. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-2195">LOG4J2-2195</a> by Gary Gregory, Raman Gupta)</p>
</li>
<li>
<p>RootThrowablePatternConverter does not use TextRenderer or line separator options. (for <a href="https://issues.apache.org/jira/browse/LOG4J2-2221">LOG4J2-2221</a> by Gary Gregory, Raman Gupta)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<p align="center">Copyright &copy; 1999-2023 <a class="external" href="https://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.<br>
      Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
